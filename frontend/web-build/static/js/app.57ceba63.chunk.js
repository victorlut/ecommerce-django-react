(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{229:function(e,t,n){e.exports=n.p+"static/media/background_dot.06ffdbc6.png"},294:function(e,t,n){"use strict";n.d(t,"a",(function(){return Gn}));var r=n(0),a=n.n(r),o=(n(366),n(369)),c=n(183),i=n(3),l=n.n(i),s=n(13),u=n.n(s),m=n(10),d=n.n(m),p=n(380),f=n(390),g=n(85);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=n(298),y=n(389),E=n(112),O=n(6),S=n(1),w=n(2),P="https://thrifthub.s3.ap-southeast-1.amazonaws.com/media/images/default_avatar.png",j="https://thrifthub.s3.ap-southeast-1.amazonaws.com/media/images/default_avatar.png";function x(e){var t,n,r=e.children,o=(null==E.a||null==(t=E.a.manifest)||null==(n=t.splash)?void 0:n.image)||"https://thrifthub.s3.ap-southeast-1.amazonaws.com/static/frontend/splash.png";return a.a.createElement(k,{image:{uri:o}},r)}function k(e){var t=e.children,n=e.image,r=a.a.useState(!1),o=u()(r,2),c=o[0],i=o[1],l=(a.a.useMemo((function(){return function(){return y.a.fromURI(n.toString()).downloadAsync()}}),[n]),a.a.useMemo((function(){return i(!0)}),[]));return c?a.a.createElement(T,{image:n},t):a.a.createElement(b.a,{autoHideSplash:!1,startAsync:function(){return d.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),null,null,null,Promise)},onError:console.error,onFinish:function(){return l}})}function T(e){var t,n,r,o,c=e.children,i=e.image,l=a.a.useMemo((function(){return new O.a.Value(1)}),[]),s=a.a.useState(!1),m=u()(s,2),p=m[0],f=m[1],h=a.a.useState(!1),v=u()(h,2),b=v[0],y=v[1];a.a.useEffect((function(){p&&O.a.timing(l,{toValue:0,duration:200,useNativeDriver:!0}).start((function(){return y(!0)}))}),[p]);var P=a.a.useMemo((function(){return function(){return d.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.awrap(g.a());case 3:return e.next=5,d.a.awrap(Promise.all([]));case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:return e.prev=9,f(!0),e.finish(9);case 12:case"end":return e.stop()}}),null,null,[[0,7,9,12]],Promise)}}),[]);return a.a.createElement(w.a,{style:{flex:1}},p&&c,!b&&a.a.createElement(O.a.View,{pointerEvents:"none",style:[S.a.absoluteFill,{backgroundColor:null==E.a||null==(t=E.a.manifest)||null==(n=t.splash)?void 0:n.backgroundColor,opacity:l}]},a.a.createElement(O.a.Image,{style:{width:"100%",height:"100%",resizeMode:(null==E.a||null==(r=E.a.manifest)||null==(o=r.splash)?void 0:o.resizeMode)||"contain",transform:[{scale:l}]},source:i,onLoadEnd:P,fadeDuration:0})))}g.b().catch((function(){}));var C=n(22),I=n(297),R=n(391),D=n(250),_=n(387),z=n(386),F=n(16),V=n(24),N=n(71),A=n(382),B=n(279),L=n(45),q=n(164),M=n(165);function U(e){var t=e.children;Object(F.b)();return a.a.createElement(q.a,{source:n(229),resizeMode:"repeat",style:G.background},a.a.createElement(M.a,{style:G.container,behavior:"padding"},t))}var G=S.a.create({background:{flex:1,width:"100%"},container:{flex:1,padding:20,width:"100%",maxWidth:340,alignSelf:"center",alignItems:"center",justifyContent:"center"}}),W=n(99),H=n(42),J=n(79);function K(e){var t=e.navigation;return a.a.createElement(U,null,a.a.createElement(J.a,null,"Login Template"),a.a.createElement(W.a,null,"The easiest way to start with your amazing application."),a.a.createElement(H.a,{mode:"contained",onPress:function(){return t.navigate("LoginScreen")}},"Login"),a.a.createElement(H.a,{mode:"outlined",onPress:function(){return t.navigate("RegisterScreen")}},"Sign Up"))}function Y(e){var t=e.children;Object(F.b)();return a.a.createElement(q.a,{source:n(229),resizeMode:"repeat",style:$.background},a.a.createElement(M.a,{style:$.container,behavior:"padding"},t))}var $=S.a.create({background:{flex:1,width:"100%"},container:{flex:1,padding:20,width:"100%",maxWidth:340,alignSelf:"center",alignItems:"center",justifyContent:"center"}});function X(e){return e?/\S+@\S+\.\S+/.test(e)?"":"Ooops! We need a valid email address.":"Email can't be empty."}function Q(e){return e?e.length<5?"Password must be at least 5 characters long.":"":"Password can't be empty."}var Z=n(125),ee=n(43),te=n(185),ne=n(194),re=function(){return d.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ne.a.getItem("token").then((function(e){return JSON.parse(e)})));case 1:case"end":return e.stop()}}),null,null,null,Promise)},ae="https://thrifthub-backend.herokuapp.com/api",oe=function(e){var t=e.method,n=e.access,r=(e.refresh,e.url),a=e.body;return"post"===t?n?new Request(ae+"/"+r+"/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:n?"Bearer "+n:""},credentials:"include",body:a?JSON.stringify(a):null}):new Request(ae+"/"+r+"/",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}):"put"===t?new Request(ae+"/"+r+"/",{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n},body:JSON.stringify(a)}):"delete"===t?new Request(ae+"/"+r+"/",{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}}):new Request(ae+"/"+r+"/",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}})};function ce(e){var t=e.body,n=oe({method:"post",url:"account/register",body:{username:t.username,email:t.email,password:t.password}});return fetch(n)}function ie(e){var t=e.body,n=oe({method:"post",url:"account/login",body:{username:t.username,password:t.password}});return fetch(n)}function le(e){var t=e.accessToken,n=oe({method:"post",url:"account/logout_all",access:t});return fetch(n)}function se(e){var t=e.url,n=e.accessToken,r=e.body,a=oe({method:"delete",url:t,access:n,body:r});return fetch(a)}function ue(e){var t=e.url,n=oe({method:"get",url:t});return fetch(n).then((function(e){return e.json()}))}function me(e){return ue({url:"vendor/"+e+"/favorites"})}function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fe;!function(e){e[e.fetchVendor=0]="fetchVendor",e[e.fetchVendorSuccess=1]="fetchVendorSuccess",e[e.fetchVendorFailure=2]="fetchVendorFailure",e[e.fetchVendorFaves=3]="fetchVendorFaves",e[e.fetchVendorOrderRequests=4]="fetchVendorOrderRequests",e[e.fetchVendorOrdersMade=5]="fetchVendorOrdersMade"}(fe||(fe={}));var ge={vendor:void 0,loading:!1,error:{}},he=a.a.createContext(void 0);function ve(e){var t=e.children,n=a.a.useState(void 0),r=u()(n,2),o=r[0],c=r[1],i=a.a.useState([]),l=u()(i,2),s=l[0],m=l[1],p=a.a.useState([]),f=u()(p,2),g=f[0],h=f[1],v=a.a.useState([]),b=u()(v,2),y=b[0],E=b[1],O=a.a.useState([]),S=u()(O,2),w=S[0],P=S[1],j=a.a.useState([]),x=u()(j,2),k=x[0],T=x[1],C=a.a.useReducer((function(e,t){var n=t.type,r=t.vendor,a=t.favorites,o=t.order_requests,c=t.orders_made,i=t.error;switch(n){case fe.fetchVendor:return pe(pe({},e),{},{loading:!0});case fe.fetchVendorSuccess:return pe(pe({},e),{},{vendor:r,loading:!1});case fe.fetchVendorFailure:return pe(pe({},e),{},{error:i,loading:!1});case fe.fetchVendorFaves:return pe(pe({},e),{},{loading:!1,favorites:a});case fe.fetchVendorOrdersMade:return pe(pe({},e),{},{orders_made:c});case fe.fetchVendorOrderRequests:return pe(pe({},e),{},{order_requests:o});default:return e}}),ge),I=u()(C,2),R=I[0],D=I[1];var _=R.vendor,z=R.loading,F=R.error;return a.a.useEffect((function(){_&&_.products.length>0&&m(_.products)}),[_]),a.a.useEffect((function(){_&&(_.id&&c(_.id.toString()),_.order_requests.length>0&&P(_.order_requests),_.orders_made.length>0&&T(_.orders_made),_.products.length>0&&m(_.products),_.favorites.length>0&&E(_.favorites))}),[_]),a.a.createElement(he.Provider,{value:{vendor:_,loading:z,error:F,dispatch:D,vendorId:o,setVendorId:c,loadVendor:function(){var e,t;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return D({type:fe.fetchVendor}),n.prev=1,n.next=4,d.a.awrap(ue({url:"vendor/"+o}));case 4:return e=n.sent,n.next=7,d.a.awrap(e.json());case 7:t=n.sent,D({type:fe.fetchVendorSuccess,vendor:t}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),D({type:fe.fetchVendorFailure});case 14:case"end":return n.stop()}}),null,null,[[1,11]],Promise)},orderRequests:w,ordersMade:k,vendorProducts:s,vendorFaves:y,loadVendorFaves:function(e){var t;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.a.awrap(me(e));case 2:(t=n.sent)&&h(t);case 4:case"end":return n.stop()}}),null,null,null,Promise)},vendorFavoritesFeed:g,loadVendorFavorites:function(e){var t;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return D({type:fe.fetchVendor}),n.next=3,d.a.awrap(me(e));case 3:(t=n.sent)&&D({type:fe.fetchVendorFaves,favorites:t});case 5:case"end":return n.stop()}}),null,null,null,Promise)}}},t)}var be=function(){return a.a.useContext(he)},ye=r.createContext(void 0);function Ee(e){var t=e.children,n=be(),a=n.dispatch,o=n.setVendorId,c=r.useState(0),i=u()(c,2),l=i[0],s=i[1],m=r.useState(""),p=u()(m,2),f=p[0],g=p[1],h=r.useState(""),v=u()(h,2),b=v[0],y=v[1],E=r.useState(!1),O=u()(E,2),S=O[0],w=O[1],P=r.useState(""),j=u()(P,2),x=j[0],k=j[1],T=r.useState(""),C=u()(T,2),I=C[0],R=C[1],D=r.useState(!1),_=u()(D,2),z=_[0],F=_[1],V=r.useState(!0),N=u()(V,2),A=N[0],B=N[1],L=r.useState(!1),q=u()(L,2),M=(q[0],q[1]),U=r.useState(!1),G=u()(U,2),W=(G[0],G[1]),H=r.useState(!1),J=u()(H,2),K=(J[0],J[1]),Y=r.useState(""),$=u()(Y,2),X=($[0],$[1]),Q=function(e){X(e),M(!0),setTimeout((function(){M(!1),X("")}),1750)},Z=function(e){X(e),W(!0),setTimeout((function(){W(!1),X("")}),1750)};return r.createElement(ye.Provider,{value:{userId:l,setUserId:s,username:f,setUsername:g,email:b,setEmail:y,loading:S,setLoading:w,handleSignIn:function(e){return d.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(a({type:fe.fetchVendor}),A){e.next=14;break}return e.prev=2,e.next=5,d.a.awrap(ce({body:{username:f,email:b,password:x}}).then((function(e){e.ok?e.json().then((function(e){e.access&&(y(""),k(""),g(e.user.name),s(e.user.id),o(e.user.id.toString()),a({type:fe.fetchVendorSuccess,vendor:e.user}),setTimeout((function(){Q("Account Created")}),750),setTimeout((function(){w(!1)}),1500))})):e.json().then((function(e){e.message&&(w(!1),a({type:fe.fetchVendorFailure}),Z(e.message))}))})));case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(2),w(!1),a({type:fe.fetchVendorFailure}),console.log((null==e.t0?void 0:e.t0.message)||"Something went wrong.");case 12:e.next=24;break;case 14:return e.prev=14,e.next=17,d.a.awrap(ie({body:{username:f,password:x}}).then((function(e){e.ok?e.json().then((function(e){e.access?(g(""),k(""),g(e.user.name),s(e.user.id),a({type:fe.fetchVendorSuccess,vendor:e.user}),setTimeout((function(){Q("Welcome Back, "+e.user.name)}),750),setTimeout((function(){w(!1)}),1500)):(w(!1),a({type:fe.fetchVendorFailure}),console.log("Access Failed"))})):e.json().then((function(e){e.message&&(w(!1),a({type:fe.fetchVendorFailure,error:e.message}),console.log("Request failed"))}))})));case 17:e.next=24;break;case 19:e.prev=19,e.t1=e.catch(14),w(!1),a({type:fe.fetchVendorFailure,error:e.t1}),console.log(e.t1.message);case 24:case"end":return e.stop()}}),null,null,[[2,7],[14,19]],Promise)},handleSignOut:function(e){var t;return d.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,d.a.awrap(re());case 3:return t=e.sent,e.prev=4,e.next=7,d.a.awrap(le({accessToken:t}).then((function(e){e.ok?(g(""),s(""),B(!0),setTimeout((function(){Q("Signed Out")}),250),setTimeout((function(){w(!1)}),750)):(w(!1),console.log("Sign Out Failed"))})));case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(4),w(!1),console.log(e.t0.message);case 13:case"end":return e.stop()}}),null,null,[[4,9]],Promise)},handleDelete:function(e){return d.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,d.a.awrap(se({url:"account/"+l,accessToken:""}).then((function(e){e.ok?(g(""),s(""),setTimeout((function(){Q("Account Deleted")}),750),setTimeout((function(){w(!1)}),1500)):(w(!1),Z("Request Failed"))})));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),w(!1),t=e.t0.message,X(t),K(!0),setTimeout((function(){K(!1),X("")}),1750);case 10:case"end":return e.stop()}var t}),null,null,[[1,6]],Promise)},password:x,setPassword:k,heading:I,setHeading:R,alert:z,setAlert:F,returning:A,setReturning:B}},t)}var Oe,Se=a.a.createContext(void 0);!function(e){e[e.TO_SIGNUP_PAGE=0]="TO_SIGNUP_PAGE",e[e.TO_SIGNIN_PAGE=1]="TO_SIGNIN_PAGE",e[e.RESTORE_TOKEN=2]="RESTORE_TOKEN",e[e.SIGNED_UP=3]="SIGNED_UP",e[e.SIGN_IN=4]="SIGN_IN",e[e.SIGN_OUT=5]="SIGN_OUT"}(Oe||(Oe={}));var we={isLoading:!0,isSignedOut:!1,isSignedUp:!1,noAccount:!1,isSignedIn:!1,userToken:null};function Pe(){var e=r.useContext(ye),t=e.username,n=e.setUsername,o=(e.email,e.setEmail,e.password),c=e.setPassword,i=(e.handleSignIn,e.returning,e.setReturning,a.a.useContext(Se)),l=i.signIn,s=(i.signUp,Object(Z.b)({defaultValues:{username:"",password:"",rememberMe:"checked"},mode:"onChange"})),u=s.control,m=s.setFocus,d=s.handleSubmit;return a.a.createElement(r.Fragment,null,a.a.createElement(te.a,{control:u,setFocus:m,formConfigArray:[{name:"username",type:"text",textInputProps:{label:"Username",left:a.a.createElement(ee.a.Icon,{name:"account"}),value:t,onChange:function(e){var t=e.nativeEvent.text;""===t&&n(""),n(t)}},rules:{required:{value:!0,message:"Username is required"}}},{name:"password",type:"password",textInputProps:{label:"Password",left:a.a.createElement(ee.a.Icon,{name:"lock"}),value:o,onChange:function(e){var t=e.nativeEvent.text;""===t&&c(""),c(t)}},rules:{required:{value:!0,message:"Password is required"},minLength:{value:4,message:"Password should be atleast 4 characters"},maxLength:{value:30,message:"Password should be between 8 and 30 characters"}}}]}),a.a.createElement(H.a,{mode:"contained",onPress:d((function(e){l(t,o)}))},"Submit"))}function je(e){var t=e.navigation,n=(Object(F.b)(),Object(r.useState)({value:"",error:""})),o=u()(n,2),c=(o[0],o[1],Object(r.useState)({value:"",error:""})),i=u()(c,2);i[0],i[1];return a.a.createElement(Y,null,a.a.createElement(L.a,{onPress:function(){return t.goBack}}),a.a.createElement(J.a,null,"Welcomggge back."),a.a.createElement(Pe,null))}S.a.create({container:{flexDirection:"row",flex:1,padding:20},forgotPassword:{width:"100%",alignItems:"flex-end",marginBottom:24},row:{flexDirection:"row",marginTop:4}});var xe=n(27);function ke(e){var t=e.children,n=Object(F.b)();return a.a.createElement(xe.a,{style:{fontSize:21,color:n.colors.primary,fontWeight:"bold",paddingVertical:12}},t," ")}function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ie(e){var t=e.navigation,n=Object(F.b)(),o=Object(r.useState)({value:"",error:""}),c=u()(o,2),i=c[0],l=c[1],s=Object(r.useState)({value:"",error:""}),m=u()(s,2),d=m[0],p=m[1],f=Object(r.useState)({value:"",error:""}),g=u()(f,2),h=g[0],v=g[1];return a.a.createElement(U,null,a.a.createElement(L.a,{onPress:t.goBack}),a.a.createElement(ke,null,"Create Account"),a.a.createElement(ee.a,{label:"Name",returnKeyType:"next",value:i.value,onChangeText:function(e){return l({value:e,error:""})},error:!!i.error}),a.a.createElement(ee.a,{label:"Email",returnKeyType:"next",value:d.value,onChangeText:function(e){return p({value:e,error:""})},error:!!d.error,autoCapitalize:"none",autoCompleteType:"email",textContentType:"emailAddress",keyboardType:"email-address"}),a.a.createElement(ee.a,{label:"Password",returnKeyType:"done",value:h.value,onChangeText:function(e){return v({value:e,error:""})},error:!!h.error,secureTextEntry:!0}),a.a.createElement(H.a,{mode:"contained",onPress:function(){var e=function(e){return e?"":"Name can't be empty."}(i.value),n=X(d.value),r=Q(h.value);if(n||r||e)return l(Ce(Ce({},i),{},{error:e})),p(Ce(Ce({},d),{},{error:n})),void v(Ce(Ce({},h),{},{error:r}));t.reset({index:0,routes:[{name:"Dashboard"}]})},style:{marginTop:24}},"Sign Up"),a.a.createElement(w.a,{style:Re.row},a.a.createElement(xe.a,null,"Already have an account? "),a.a.createElement(L.a,{onPress:function(){return t.replace("LoginScreen")}},a.a.createElement(xe.a,{style:{fontWeight:"bold",color:n.colors.primary}},"Login"))))}var Re=S.a.create({row:{flexDirection:"row",marginTop:4}}),De=n(36);function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fe(e){var t=e.navigation,n=(Object(F.b)(),Object(r.useState)({value:"",error:""})),o=u()(n,2),c=o[0],i=o[1];return a.a.createElement(U,null,a.a.createElement(De.a,{onPress:t.goBack},"Go Back"),a.a.createElement(ke,null,"Restore Password"),a.a.createElement(ee.a,{label:"E-mail address",returnKeyType:"done",value:c.value,onChangeText:function(e){return i({value:e,error:""})},error:!!c.error,autoCapitalize:"none",autoCompleteType:"email",textContentType:"emailAddress",keyboardType:"email-address"}),a.a.createElement(H.a,{mode:"contained",onPress:function(){var e=X(c.value);e?i(ze(ze({},c),{},{error:e})):t.navigate("LoginScreen")},style:{marginTop:16}},"Send Instructions"))}var Ve=n(20),Ne=n.n(Ve),Ae=n(11),Be=n.n(Ae),Le=["children"];function qe(e){var t=e.children,n=Be()(e,Le);return a.a.createElement(xe.a,Ne()({style:Me.text},n),t)}var Me=S.a.create({text:{fontSize:15,lineHeight:21,textAlign:"center",marginBottom:12}});function Ue(e){var t=e.navigation;return a.a.createElement(U,null,a.a.createElement(ke,null,"Let\u2019s start"),a.a.createElement(qe,null,"Your amazing app starts here. Open you favorite code editor and start editing this project."),a.a.createElement(H.a,{mode:"outlined",onPress:function(){return t.reset({index:0,routes:[{name:"StartScreen"}]})}},"Logout"))}var Ge,We=Object(z.a)(),He=function(){var e=Object(F.b)();return a.a.createElement(We.Navigator,{initialRouteName:"StartScreen",headerMode:"screen",screenOptions:{header:function(t){var n=t.scene,r=t.previous,o=t.navigation,c=n.descriptor.options,i=void 0!==c.headerTitle?c.headerTitle:void 0!==c.title?c.title:n.route.name;return a.a.createElement(N.a.Header,{theme:{colors:{primary:e.colors.surface}}},r?a.a.createElement(N.a.BackAction,{onPress:o.goBack,color:e.colors.primary}):a.a.createElement(L.a,{style:{marginLeft:10},onPress:function(){o.openDrawer()}},a.a.createElement(A.a,{size:40,source:{uri:P}})),a.a.createElement(N.a.Content,{title:"StartScreen"===i?a.a.createElement(B.a,{style:{marginRight:10},name:"package-variant-closed",size:40,color:e.colors.primary}):i,titleStyle:{fontSize:18,fontWeight:"bold",color:e.colors.primary}}))}}},a.a.createElement(We.Screen,{name:"StartScreen",component:K,options:function(e){var t,n=e.route;return{headerTitle:null!=(t=Object(V.getFocusedRouteNameFromRoute)(n))?t:"StartScreen"}}}),a.a.createElement(We.Screen,{name:"LoginScreen",component:je,options:{headerTitle:"Sign In"}}),a.a.createElement(We.Screen,{name:"RegisterScreen",component:Ie,options:{headerTitle:"Register"}}),a.a.createElement(We.Screen,{name:"Dashboard",component:Ue,options:{headerTitle:"Dashboard"}}),a.a.createElement(We.Screen,{name:"ResetPassword",component:Fe,options:{headerTitle:"Reset Password"}}))},Je=n(383),Ke=n(384),Ye=n(388),$e=n(188),Xe=n(295),Qe=n(73),Ze=n(81);function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.fetchProducts=0]="fetchProducts",e[e.fetchProductsSuccess=1]="fetchProductsSuccess",e[e.fetchProductsFailure=2]="fetchProductsFailure"}(Ge||(Ge={}));var nt={products:[],loading:!1,error:""},rt=a.a.createContext(void 0);function at(e){var t=e.children,n=a.a.useReducer((function(e,t){var n=t.type,r=t.products,a=t.error;switch(n){case Ge.fetchProducts:return tt(tt({},e),{},{loading:!0});case Ge.fetchProductsSuccess:return tt(tt({},e),{},{products:r,loading:!1});case Ge.fetchProductsFailure:return tt(tt({},e),{},{error:a,loading:!1});default:return e}}),nt),r=u()(n,2),o=r[0],c=r[1];function i(){var e;return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:Ge.fetchProducts}),t.next=3,d.a.awrap(ue({url:"store/?expand=product_images,vendor,product,category&include=vendor.name"}));case 3:e=t.sent,c(e?{type:Ge.fetchProductsSuccess,products:e}:{type:Ge.fetchProductsFailure});case 5:case"end":return t.stop()}}),null,null,null,Promise)}a.a.useEffect((function(){i()}),[]);var l=o.products,s=o.loading,m=o.error;return a.a.createElement(rt.Provider,{value:{products:l,loading:s,error:m,dispatch:c,loadProducts:i}},t)}var ot=n(35),ct=n(41),it=n(61),lt=n(33),st=n(109),ut=n(82),mt=n(288),dt=n(191),pt=n.n(dt),ft=n(286),gt=n.n(ft),ht=function(e){var t=e.date;return pt.a.extend(gt.a),a.a.createElement("time",{dateTime:pt()(t).toISOString()},pt()(t).fromNow())},vt=n(287),bt=n.n(vt),yt=function(e){return e.charAt(0).toUpperCase()+e.charAt(1).toUpperCase()};function Et(){var e=be().vendor,t=a.a.useState(void 0),n=u()(t,2),r=n[0],o=n[1],c=a.a.useState(void 0),i=u()(c,2),l=i[0],s=i[1];return a.a.useMemo((function(){e&&(e.image?e.image.thumbnail?o(e.image.thumbnail):o(e.image.full_size):o(P),s(yt(e.name)))}),[e]),{vendorIcon:r,vendorInitials:l}}function Ot(e){var t=a.a.useState(void 0),n=u()(t,2),r=n[0],o=n[1],c=a.a.useState(void 0),i=u()(c,2),l=i[0],s=i[1];return a.a.useMemo((function(){e?(e.thumbnail?s(e.thumbnail):e.full_size&&s(e.full_size),e.full_size?o(e.full_size):o(j)):(s(P),o(j))}),[e]),{productImage:r,productThumbnail:l}}function St(e){var t=a.a.useState(void 0),n=u()(t,2),r=n[0],o=n[1];return a.a.useMemo((function(){e?e.thumbnail?o(e.thumbnail):e.full_size&&o(e.full_size):o(P)}),[e]),{avatarImage:r}}var wt=function(e){var t=e,n=e.onPress?e.onPress:function(){},r=Object(F.b)(),o=be().vendorFaves,c=Et(),i=(c.vendorIcon,c.vendorInitials,Ot(t.image)),l=i.productImage,s=(i.productThumbnail,St(t.vendor.image).avatarImage),u=yt(t.vendor.name),m=o.some((function(e){return e.id===t.id}));console.log("productImage",l),console.log("productAvatar",s),console.log("otherVendorInitials",u),console.log("vendorFaves",o),console.log("inFaves",m);var d=r.colors.text,p=r.colors.text,f=r.colors.text,g=function(){return""+Math.floor(16777215*Math.random()).toString(16)};g(),g();return a.a.createElement(De.a,{onPress:function(){return n(t.slug)}},a.a.createElement(ct.a,{style:Pt.container},a.a.createElement(w.a,{style:Pt.leftColumn},a.a.createElement(w.a,null,s?a.a.createElement(A.a,{size:60,style:{marginRight:10},source:{uri:s}}):a.a.createElement(Je.a,{size:60,style:{marginRight:10},label:u}),a.a.createElement(st.a,{size:10,style:{position:"absolute",bottom:0,right:4,backgroundColor:t.vendor.online?r.colors.accent:r.colors.disabled}}))),a.a.createElement(w.a,{style:Pt.rightColumn},a.a.createElement(w.a,{style:Pt.topRow},a.a.createElement(it.a,null,t.title),t.vendor.product_count>0&&a.a.createElement(w.a,{style:Pt.iconContainer},a.a.createElement(B.a,{name:"package-variant-closed",size:14,color:d}),a.a.createElement(lt.a,{style:Pt.iconDescription},t.vendor.product_count,""," products")),t.vendor.order_count>0&&a.a.createElement(w.a,{style:Pt.iconContainer},a.a.createElement(B.a,{name:"currency-usd-off",size:14,color:d}),a.a.createElement(lt.a,{style:Pt.iconDescription},t.vendor.order_count,""," transactions")),a.a.createElement(lt.a,{style:Pt.handle},t.price),a.a.createElement(lt.a,null,t.condition),!t.is_available&&a.a.createElement(mt.a,{mode:"flat",style:{backgroundColor:r.colors.error}},"SOLD")),a.a.createElement(xe.a,{style:{color:p}},t.description),a.a.createElement(ot.a,{source:{uri:l},style:[Pt.image,{borderColor:f}]}),a.a.createElement(w.a,{style:Pt.bottomRow},t.is_available&&a.a.createElement(a.a.Fragment,null,a.a.createElement(L.a,{onPress:function(){},hitSlop:{top:10,bottom:10}},a.a.createElement(w.a,{style:Pt.iconContainer},a.a.createElement(ut.a,{icon:"cash-multiple",color:r.colors.primary,size:20,onPress:function(){return console.log("Pressed")}}),a.a.createElement(lt.a,{style:Pt.iconDescription},"Offer"))),a.a.createElement(w.a,{style:Pt.iconContainer},a.a.createElement(ut.a,{icon:"cash-100",color:r.colors.primary,size:20,onPress:function(){return console.log("Pressed")}}),a.a.createElement(xe.a,{style:Pt.iconDescription},"Purchase"))),a.a.createElement(w.a,{style:Pt.iconContainer},a.a.createElement(B.a,{name:"share-outline",size:14,color:d}),a.a.createElement(lt.a,{style:Pt.iconDescription},t.is_available?"posted":"sold"," ",a.a.createElement(ht,{date:t.is_available?t.created_at:t.updated_at}))),a.a.createElement(L.a,{onPress:function(){},hitSlop:{top:10,bottom:10}},a.a.createElement(w.a,{style:Pt.iconContainer},a.a.createElement(B.a,{name:m?"heart":"heart-outline",size:12,color:m?r.colors.error:r.colors.text}),a.a.createElement(lt.a,{style:Pt.iconDescription},m?"Remove from Favorites":"Add to Favorites")))))))},Pt=S.a.create({container:{flexDirection:"row",paddingTop:15,paddingRight:15},leftColumn:{width:100,alignItems:"center"},rightColumn:{flex:1},topRow:{flexDirection:"row",alignItems:"baseline",justifyContent:"space-between"},handle:{marginRight:3},dot:{fontSize:3},image:{borderWidth:S.a.hairlineWidth,marginTop:10,borderRadius:20,width:"100%",height:150},bottomRow:{paddingVertical:10,flexDirection:"row",alignItems:"center",justifyContent:"space-between"},iconContainer:{flexDirection:"row",alignItems:"center"},iconDescription:{marginLeft:2,lineHeight:12},button:{marginTop:20},badge:{position:"absolute",bottom:0,right:4}});function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kt(){return a.a.createElement(w.a,{style:{height:S.a.hairlineWidth}})}var Tt=function(e){var t=Object(F.b)(),n=a.a.useContext(rt),r=n.products,o=(n.dispatch,n.loading);n.error;return o?a.a.createElement(Ze.a,null):a.a.createElement(Qe.a,{contentContainerStyle:{backgroundColor:t.colors.background},style:{backgroundColor:t.colors.background},data:r&&r.map((function(t){return xt(xt({},t),{},{onPress:function(){return e.navigation&&e.navigation.push("ProductDetails",xt({},t))}})})),renderItem:function(e){var t=e.item;return a.a.createElement(wt,t)},keyExtractor:function(e){return e.id.toString()},ItemSeparatorComponent:kt})},Ct=n(48);function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dt(){return a.a.createElement(w.a,{style:{height:S.a.hairlineWidth}})}var _t=function(e){var t=Object(F.b)(),n=be(),r=n.vendor,o=(n.dispatch,n.vendorFavoritesFeed,n.vendorId,n.error,n.loading),c=(n.loadVendorFaves,a.a.useState(!1)),i=u()(c,2),l=(i[0],i[1],a.a.useState(void 0)),s=u()(l,2),m=s[0];s[1];return o?a.a.createElement(Ze.a,null):r&&r.favorites.length<1?a.a.createElement(Ct.a,null,"You Haven't saved any product favorites"):a.a.createElement(Qe.a,{contentContainerStyle:{backgroundColor:t.colors.background},style:{backgroundColor:t.colors.background},data:m&&m.map((function(t){return Rt(Rt({},t),{},{onPress:function(){return e.navigation&&e.navigation.push("ProductDetails",Rt({},t))}})})),renderItem:function(e){var t=e.item;return a.a.createElement(wt,t)},keyExtractor:function(e){return e.id.toString()},ItemSeparatorComponent:Dt})},zt=n(38),Ft=n(193),Vt=n(179),Nt=function(e){var t=e,n=Object(F.b)(),r=be(),o=r.vendor,c=r.vendorId,i=n.colors.text;return a.a.createElement(ct.a,{style:At.container},a.a.createElement(w.a,{style:At.leftColumn},a.a.createElement(B.a,{name:"currency-usd-off",size:30,color:"#8d38e8"})),a.a.createElement(w.a,{style:At.rightColumn},a.a.createElement(w.a,{style:At.topRow},t.product.image&&a.a.createElement(A.a,{source:{uri:t.product.image.thumbnail},size:60})),a.a.createElement(it.a,null,"Status"),a.a.createElement(Vt.a,{style:{marginBottom:10}},t.status),a.a.createElement(it.a,null,"Product"),a.a.createElement(W.a,null,t.product.title?t.product.title:t.product.toString()),a.a.createElement(it.a,null,"Seller"),a.a.createElement(W.a,null,t.vendor.name?t.vendor.name.toLowerCase().replace(/^.| ./g,bt.a.toUpper):o&&t.vendor.toString()===c?o.name:t.vendor.toString()),a.a.createElement(H.a,{mode:"text",uppercase:!0,color:n.colors.primary,onPress:function(){return console.log("Pressed")}},"View"),a.a.createElement(lt.a,{style:{color:i}},t.updated_at||t.created_at&&a.a.createElement(ht,{date:t.updated_at||t.created_at}))))},At=S.a.create({container:{flexDirection:"row",paddingTop:15,paddingRight:15,paddingBottom:15},leftColumn:{width:100,marginRight:10,alignItems:"center"},rightColumn:{flex:1},topRow:{flexDirection:"row",alignItems:"center",marginBottom:10}});function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qt=function(e){var t=Object(F.b)(),n=be(),r=n.vendor,o=(n.dispatch,n.loading);n.error;return o||!r?a.a.createElement(Ze.a,null):a.a.createElement(Qe.a,{contentContainerStyle:{backgroundColor:t.colors.background},style:{backgroundColor:t.colors.background},data:r&&r.order_requests&&r.order_requests.map((function(t){return Lt(Lt({},t),{},{onPress:function(){return e.navigation&&e.navigation.push("OrderDetails",Lt({},t))}})})),renderItem:function(e){var t=e.item;return a.a.createElement(Nt,t)},keyExtractor:function(e){return e.id.toString()},ItemSeparatorComponent:function(){return a.a.createElement(w.a,{style:{height:S.a.hairlineWidth}})}})},Mt={width:zt.a.get("window").width},Ut=function(){return a.a.createElement(qt,null)},Gt=function(){return a.a.createElement(qt,null)},Wt=function(){var e=a.a.useState(0),t=u()(e,2),n=t[0],r=t[1],o=a.a.useState([{key:"orderRequests",title:"Sales"},{key:"ordersMade",title:"Purchases"}]),c=u()(o,1)[0],i=Object(F.b)(),l=Object(Ft.a)({orderRequests:Ut,ordersMade:Gt}),s=i.colors.surface;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ft.c,{navigationState:{index:n,routes:c},renderScene:l,onIndexChange:r,initialLayout:Mt,renderTabBar:function(e){return a.a.createElement(Ft.b,Ne()({},e,{indicatorStyle:{backgroundColor:i.colors.primary},style:{backgroundColor:s,shadowColor:i.colors.text},labelStyle:{color:i.colors.primary}}))}}))},Ht=n(49),Jt=function(){var e=Object(F.b)().colors.surface;return a.a.createElement(Ht.a,{style:{backgroundColor:e},contentContainerStyle:[Kt.scrollViewContent,{backgroundColor:e}]},a.a.createElement(J.a,{style:Kt.centerText},"Send a message, get a message"),a.a.createElement(lt.a,{style:Kt.centerText},"Private Messages are private conversations between you and other people on Twitter. Share Tweets, media, and more!"),a.a.createElement(H.a,{onPress:function(){},style:Kt.button,mode:"contained",labelStyle:{color:"white"}},"Write a message"))},Kt=S.a.create({scrollViewContent:{flex:1,paddingHorizontal:30,justifyContent:"center",alignItems:"center"},centerText:{textAlign:"center"},button:{marginTop:20}}),Yt=n(213),$t=n(92),Xt=n(7);function Qt(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Zt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zt(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var en=function(){var e=Object(F.b)().colors.surface,t=a.a.useContext(Se).state,n=(be().vendorId,a.a.useState([])),r=u()(n,2),o=r[0],c=r[1],i=a.a.useState([{label:"Category",value:0}]),l=u()(i,2),s=l[0],m=l[1],p=a.a.useState([]),f=u()(p,2),g=f[0],h=f[1],v=Object(Z.b)({defaultValues:{title:"",category:"",description:"",price:"",condition:"",images:[]},mode:"onChange"}),b=v.control,y=v.setFocus,E=v.setError,O=v.setValue,S=v.handleSubmit,P=v.formState.errors;a.a.useEffect((function(){o&&m(o.map((function(e){return{label:e.name,value:e.id}})))}),[o]),a.a.useEffect((function(){!function(){var e;d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.awrap(ue({url:"category"}));case 2:(e=t.sent)&&c(e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}),[]),a.a.useEffect((function(){!function(){var e;d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if("web"===Xt.a.OS){t.next=6;break}return t.next=3,d.a.awrap(Yt.b());case 3:e=t.sent,"granted"!==e.status&&alert("Sorry, we need camera roll permissions to make this work!");case 6:case"end":return t.stop()}}),null,null,null,Promise)}()}),[]);return a.a.createElement(Ht.a,{style:{backgroundColor:e},contentContainerStyle:[tn.scrollViewContent,{backgroundColor:e}]},a.a.createElement(J.a,{style:tn.centerText},"Sell a Product"),a.a.createElement(lt.a,{style:tn.centerText},"Pick a Product"),a.a.createElement(H.a,{onPress:function(){},style:tn.button,mode:"contained",labelStyle:{color:"white"}},"Write a message"),a.a.createElement(a.a.Fragment,null,a.a.createElement(a.a.Fragment,null,a.a.createElement(te.a,{control:b,setFocus:y,formConfigArray:[{name:"title",type:"text",textInputProps:{label:"Title",left:a.a.createElement(ee.a.Icon,{name:"account"}),onChange:function(){E("title",{type:"manual",message:"Don't forget..."})}},rules:{required:{value:!0,message:"Title is required"},maxLength:{value:255,message:"Title should be less than 255 characters."}}},{name:"description",type:"text",textInputProps:{label:"Description",left:a.a.createElement(ee.a.Icon,{name:"email"}),onChange:function(e){var t;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:""===(t=e.nativeEvent.text)&&O("description",t),O("description",t);case 3:case"end":return n.stop()}}),null,null,null,Promise)}},rules:{required:{value:!1,message:"Description is optional"}}},{name:"price",type:"text",textInputProps:{label:"Price",left:a.a.createElement(ee.a.Icon,{name:"lock"}),onChange:function(e){!function(e){e.nativeEvent.text}(e)}},rules:{required:{value:!0,message:"Price is required"},pattern:{value:/^(\d*([.,](?=\d{3}))?\d+)+((?!\2)[.,]\d\d)?$/gm,message:"Price is invalid"},minLength:{value:3,message:"The price must be a valid decimal field."},maxLength:{value:8,message:"The price must be between 0 and 999,999.99"}}},{name:"condition",type:"autocomplete",textInputProps:{label:"Condition",left:a.a.createElement(ee.a.Icon,{name:"office-building"})},rules:{required:{value:!0,message:"Condition is required"}},options:[{label:"Mint",value:5},{label:"New",value:4},{label:"Good",value:3},{label:"Fair",value:2},{label:"Damaged",value:1}]},{name:"category",type:"select",textInputProps:{label:"Category",left:a.a.createElement(ee.a.Icon,{name:"account"})},rules:{required:{value:!0,message:"Category is required"}},options:s}]}),a.a.createElement(H.a,{mode:"contained",onPress:function(){var e;return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.awrap(Yt.a({mediaTypes:$t.a.Images,allowsEditing:!0,allowsMultipleSelection:!0,aspect:[4,3],quality:1}));case 2:e=t.sent,console.log(e),e.cancelled||h(e.selected.map((function(e){return e})));case 5:case"end":return t.stop()}}),null,null,null,Promise)}},"Upload Images"," "),a.a.createElement(w.a,{style:{flex:1,alignItems:"center",justifyContent:"center"}},g&&g.map((function(e){return a.a.createElement(ot.a,{source:{uri:e.uri},style:{width:200,height:200}})}))),a.a.createElement(H.a,{mode:"contained",onPress:S((function(e){for(var n,r=new FormData,a=Qt(g);!(n=a()).done;){var o=n.value;r.append("image",o.uri,o+"-")}g&&g.length>0&&g.map((function(e){return{type:e.type?e.type:"image",uri:"android"===Xt.a.OS?e.uri:e.uri.replace("file://",""),name:e.uri}}));var c=new FormData;c.append("title",e.title),c.append("description",e.description),c.append("price",e.price),c.append("condition",e.condition),c.append("category",e.category),c.append("images",r,{type:"file"});var i=new Request("https://thrifthub-backend.herokuapp.com/api/store/",{method:"POST",headers:{Authorization:t.userToken?"Bearer "+t.userToken:""},credentials:"include",body:JSON.stringify(c)}),l=fetch(i).then((function(e){return e.json()}));alert(JSON.stringify(l))}))},"Submit")),P.title&&a.a.createElement(xe.a,null,P.title.message)))},tn=S.a.create({scrollViewContent:{flex:1,paddingHorizontal:30,justifyContent:"center",alignItems:"center"},centerText:{textAlign:"center"},button:{marginTop:20}}),nn=function(){var e=Object(F.b)().colors.surface;return a.a.createElement(Ht.a,{style:{backgroundColor:e},contentContainerStyle:[rn.scrollViewContent,{backgroundColor:e}]},a.a.createElement(J.a,{style:rn.centerText},"Send a message, get a message"),a.a.createElement(lt.a,{style:rn.centerText},"Private Messages are private conversations between you and other people on Twitter. Share Tweets, media, and more!"),a.a.createElement(H.a,{onPress:function(){},style:rn.button,mode:"contained",labelStyle:{color:"white"}},"Write a message"))},rn=S.a.create({scrollViewContent:{flex:1,paddingHorizontal:30,justifyContent:"center",alignItems:"center"},centerText:{textAlign:"center"},button:{marginTop:20}}),an=n(76);function on(e,t){return t>=1&&t<=24?cn[t]:t>24?cn[24]:cn[1],e}var cn={1:5,2:7,3:8,4:9,5:10,6:11,7:11.5,8:12,9:12.5,10:13,11:13.5,12:14,13:14.25,14:14.5,15:14.75,16:15,17:15.12,18:15.24,19:15.36,20:15.48,21:15.6,22:15.72,23:15.84,24:16},ln=Object(Ye.a)(),sn=function(e){var t,n=null!=(t=Object(V.getFocusedRouteNameFromRoute)(e.route))?t:"Store",r=a.a.useContext(Se).state,c=Object(F.b)(),i=Object(o.d)(),l=Object(V.useIsFocused)(),s="feather";switch(n){case"Transactions":s="cash-multiple";break;default:s="feather"}var m=c.dark?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:an.a.colors.surface;if(e instanceof O.a.Value){var n=[0,1,2,3,8,24];return e.interpolate({inputRange:n,outputRange:n.map((function(e){return on(t,e)}))})}return on(t,e)}(6,c.colors.surface):c.colors.surface,d=a.a.useState(!1),p=u()(d,2),f=(p[0],p[1]);return a.a.useEffect((function(){r.isSignedIn?f(!0):f(!1)}),[r]),a.a.createElement(a.a.Fragment,null,a.a.createElement(a.a.Fragment,null,a.a.createElement(ln.Navigator,{initialRouteName:"Store",backBehavior:"initialRoute",shifting:!0,activeColor:c.colors.primary},a.a.createElement(ln.Screen,{name:"Products",component:Tt,options:{tabBarIcon:"package-variant",tabBarColor:m}}),a.a.createElement(ln.Screen,{name:"Transactions",component:Wt,options:{tabBarIcon:"cash-multiple",tabBarColor:m}}),a.a.createElement(ln.Screen,{name:"Favorites",component:_t,options:{tabBarIcon:"heart",tabBarColor:m}}),a.a.createElement(ln.Screen,{name:"My Products",component:Tt,options:{tabBarIcon:"folder-home-outline",tabBarColor:m}}),a.a.createElement(ln.Screen,{name:"Add Product",component:en,options:{tabBarIcon:"folder-home-outline",tabBarColor:m}}),a.a.createElement(ln.Screen,{name:"Make Offer",component:Jt,options:{tabBarIcon:"folder-home-outline",tabBarColor:m}}),a.a.createElement(ln.Screen,{name:"Messages",component:nn,options:{tabBarIcon:"message-text-outline",tabBarColor:m}})),a.a.createElement($e.a,null,a.a.createElement(Xe.a,{visible:l,icon:s,style:{position:"absolute",bottom:i.bottom+65,right:16},color:"white",theme:{colors:{accent:c.colors.primary}},onPress:function(){}}))))},un=function(){return""+Math.floor(16777215*Math.random()).toString(16)},mn=function(e){var t=e,n=Object(F.b)(),r=be(),o=r.vendorId,c=r.vendorFaves,i=Et(),l=i.vendorIcon,s=i.vendorInitials,u=Ot(t.image),m=u.productImage,d=(u.productThumbnail,St(t.vendor.image).avatarImage),p=yt(t.vendor.name),f=(c.some((function(e){return e===t.slug})),n.colors.text),g=n.colors.text,h=n.colors.text,v=un(),b=un(),y="https://via.placeholder.com/150/"+v+"/"+b;return a.a.createElement(ct.a,{style:dn.container},a.a.createElement(w.a,{style:dn.topRow},a.a.createElement(A.a,{style:dn.avatar,source:{uri:y},size:60}),a.a.createElement(w.a,null,a.a.createElement(it.a,null,t.title),a.a.createElement(lt.a,{style:dn.handle},t.vendor.name))),a.a.createElement(Vt.a,{style:[dn.content,{color:f}]},t.description),a.a.createElement(ot.a,{source:{uri:m},style:[dn.image,{borderColor:g}]}),a.a.createElement(xe.a,{style:{marginBottom:10}},t.condition),a.a.createElement(xe.a,{style:{marginBottom:10}},t.price),a.a.createElement(xe.a,{style:{marginBottom:10}},t.price),a.a.createElement(xe.a,{style:{marginBottom:10}},t.is_available?"Posted":"Sold"," ",a.a.createElement(ht,{date:t.is_available?t.created_at:t.updated_at})),a.a.createElement(w.a,{style:dn.bottomRow},t.is_available&&a.a.createElement(a.a.Fragment,null,a.a.createElement(L.a,{onPress:function(){},hitSlop:{top:10,bottom:10}},a.a.createElement(w.a,{style:dn.iconContainer},a.a.createElement(H.a,{mode:"text",uppercase:!0,color:n.colors.primary,onPress:function(){return console.log("Pressed")}},"Purchase"))),a.a.createElement(w.a,{style:dn.iconContainer},a.a.createElement(H.a,{mode:"text",uppercase:!0,color:n.colors.primary,onPress:function(){return console.log("Pressed")}},"Purchase")))),t.product_images&&t.product_images.length>0&&a.a.createElement(a.a.Fragment,null,a.a.createElement(w.a,{style:{height:S.a.hairlineWidth}}),";",a.a.createElement(w.a,{style:dn.bottomRow},a.a.createElement(w.a,null,a.a.createElement(it.a,null,"Product Images"),a.a.createElement(lt.a,{style:dn.handle},t.vendor.name)),t.product_images.map((function(e){return a.a.createElement(L.a,{onPress:function(){},hitSlop:{top:10,bottom:10}},a.a.createElement(A.a,{style:{marginRight:10},source:{uri:e.image.thumbnail?e.image.thumbnail:e.image.full_size?e.image.full_size:j},size:40}))})))),t.similar_products&&t.similar_products.length>0&&a.a.createElement(a.a.Fragment,null,a.a.createElement(w.a,{style:{height:S.a.hairlineWidth}}),";",a.a.createElement(it.a,null,"Related Products"),a.a.createElement(lt.a,{style:dn.handle},t.category),t.similar_products.map((function(e){return a.a.createElement(w.a,{style:dn.bottomRow},a.a.createElement(it.a,null,e.title),e.id.toString()===o?a.a.createElement(lt.a,{style:dn.handle},"Your Product"):a.a.createElement(lt.a,{style:dn.handle},e.vendor),a.a.createElement(L.a,{onPress:function(){},hitSlop:{top:10,bottom:10}},a.a.createElement(A.a,{style:{marginRight:10},source:{uri:e.image.thumbnail?e.image.thumbnail:e.image.full_size?e.image.full_size:j},size:40})))}))),a.a.createElement(w.a,{style:dn.footerRow},a.a.createElement(L.a,{style:{marginLeft:10},onPress:function(){}},a.a.createElement(w.a,null,t.id.toString()===o?l?a.a.createElement(A.a,{size:40,style:{marginRight:10},source:{uri:l}}):s?a.a.createElement(Je.a,{size:40,style:{marginRight:10},label:s}):a.a.createElement(A.a,{size:40,style:{marginRight:10},source:{uri:P}}):d?a.a.createElement(A.a,{size:40,style:{marginRight:10},source:{uri:l}}):a.a.createElement(Je.a,{size:40,style:{marginRight:10},label:p}),a.a.createElement(st.a,{style:{position:"absolute",bottom:0,right:4,backgroundColor:t.vendor.online?n.colors.accent:n.colors.disabled}}))),a.a.createElement(it.a,null,t.vendor.name),t.vendor.product_count>0&&a.a.createElement(w.a,{style:dn.iconContainer},a.a.createElement(B.a,{name:"package-variant-closed",size:14,color:h}),a.a.createElement(lt.a,{style:dn.iconDescription},t.vendor.product_count,""," products")),t.vendor.order_count>0&&a.a.createElement(w.a,{style:dn.iconContainer},a.a.createElement(B.a,{name:"currency-usd-off",size:14,color:h}),a.a.createElement(lt.a,{style:dn.iconDescription},t.vendor.order_count,""," transactions"))))},dn=S.a.create({container:{flex:1,padding:20},avatar:{marginRight:20},topRow:{flexDirection:"row",alignItems:"center"},handle:{marginRight:3,lineHeight:12},content:{marginTop:25,fontSize:20,lineHeight:30},image:{borderWidth:S.a.hairlineWidth,marginTop:25,borderRadius:20,width:"100%",height:280},thumbnail:{borderWidth:S.a.hairlineWidth,marginTop:25,borderRadius:10,width:"25%",height:140},bottomRow:{flexDirection:"row",alignItems:"center",marginBottom:10},footerRow:{flexDirection:"row",alignItems:"center",marginBottom:10},iconContainer:{flexDirection:"row",alignItems:"center"},iconDescription:{marginLeft:2,lineHeight:12}}),pn=function(e){return a.a.createElement(mn,e.route.params)},fn=Object(z.a)(),gn=function(){var e=Object(F.b)(),t=Et(),n=t.vendorInitials,r=t.vendorIcon;return a.a.createElement(fn.Navigator,{initialRouteName:"Products",headerMode:"screen",screenOptions:{header:function(t){var o=t.scene,c=t.previous,i=t.navigation,l=o.descriptor.options,s=void 0!==l.headerTitle?l.headerTitle:void 0!==l.title?l.title:o.route.name;return a.a.createElement(N.a.Header,{theme:{colors:{primary:e.colors.surface}}},c?a.a.createElement(N.a.BackAction,{onPress:i.goBack,color:e.colors.primary}):a.a.createElement(L.a,{style:{marginLeft:10},onPress:function(){i.openDrawer()}},r?a.a.createElement(A.a,{size:40,source:{uri:r}}):n?a.a.createElement(Je.a,{size:40,label:n}):a.a.createElement(Ke.a,{size:40,icon:"account"})),a.a.createElement(N.a.Content,{title:"Store"===s?a.a.createElement(B.a,{style:{marginRight:10},name:"package-variant-closed",size:40,color:e.colors.primary}):s,titleStyle:{fontSize:18,fontWeight:"bold",color:e.colors.primary}}))}}},a.a.createElement(fn.Screen,{name:"Products",component:sn,options:function(e){var t,n=e.route;return{headerTitle:null!=(t=Object(V.getFocusedRouteNameFromRoute)(n))?t:"Store"}}}),a.a.createElement(fn.Screen,{name:"ProductDetails",component:pn,options:{headerTitle:"Product Details"}}))},hn=n(290),vn=n(291),bn=n(385),yn=n(212),En=n(28),On=a.a.createContext({rtl:"left",theme:"light",toggleTheme:function(){},toggleRTL:function(){}});function Sn(e){var t=be().vendor,n=Et(),r=n.vendorIcon,o=n.vendorInitials,c=Object(F.b)(),i=a.a.useContext(On),l=i.rtl,s=i.theme,u=i.toggleRTL,m=i.toggleTheme,d=En.a.interpolateNode(e.progress,{inputRange:[0,.5,.7,.8,1],outputRange:[-100,-85,-70,-45,0]});return a.a.createElement(hn.a,e,a.a.createElement(En.a.View,{style:[wn.drawerContent,{backgroundColor:c.colors.surface,transform:[{translateX:d}]}]},a.a.createElement(w.a,{style:wn.userInfoSection},a.a.createElement(L.a,{style:{marginLeft:10},onPress:function(){e.navigation.toggleDrawer()}},r?a.a.createElement(A.a,{size:40,style:{marginRight:10},source:{uri:r}}):o?a.a.createElement(Je.a,{size:50,label:o}):a.a.createElement(Ke.a,{size:50,icon:"account"})),a.a.createElement(it.a,{style:wn.title},null!=t&&t.name?t.name:"Dawid"),a.a.createElement(lt.a,{style:wn.caption},null!=t&&t.online?"Online":"Offline"),a.a.createElement(w.a,{style:wn.row},a.a.createElement(w.a,{style:wn.section},a.a.createElement(W.a,{style:[wn.paragraph,wn.caption]},(null==t?void 0:t.product_count)||"failed to fetch"),a.a.createElement(lt.a,{style:wn.caption},"Products")),a.a.createElement(w.a,{style:wn.section},a.a.createElement(W.a,{style:[wn.paragraph,wn.caption]},(null==t?void 0:t.order_count)||"failed to fetch"),a.a.createElement(lt.a,{style:wn.caption},"Transactions")))),a.a.createElement(bn.a,{style:wn.drawerSection},a.a.createElement(vn.a,{icon:function(e){var t=e.color,n=e.size;return a.a.createElement(B.a,{name:"account-outline",color:t,size:n})},label:"Profile",onPress:function(){}}),a.a.createElement(vn.a,{icon:function(e){var t=e.color,n=e.size;return a.a.createElement(B.a,{name:"tune",color:t,size:n})},label:"Preferences",onPress:function(){}}),a.a.createElement(vn.a,{icon:function(e){var t=e.color,n=e.size;return a.a.createElement(B.a,{name:"bookmark-outline",color:t,size:n})},label:"Bookmarks",onPress:function(){}})),a.a.createElement(bn.a,{title:"Preferences"},a.a.createElement(De.a,{onPress:m},a.a.createElement(w.a,{style:wn.preference},a.a.createElement(xe.a,null,"Dark Theme"),a.a.createElement(w.a,{pointerEvents:"none"},a.a.createElement(yn.a,{value:"dark"===s})))),a.a.createElement(De.a,{onPress:u},a.a.createElement(w.a,{style:wn.preference},a.a.createElement(xe.a,null,"RTL"),a.a.createElement(w.a,{pointerEvents:"none"},a.a.createElement(yn.a,{value:"right"===l})))))))}var wn=S.a.create({drawerContent:{flex:1},userInfoSection:{paddingLeft:20},title:{marginTop:20,fontWeight:"bold"},caption:{fontSize:14,lineHeight:14},row:{marginTop:20,flexDirection:"row",alignItems:"center"},section:{flexDirection:"row",alignItems:"center",marginRight:15},paragraph:{fontWeight:"bold",marginRight:3},drawerSection:{marginTop:15},preference:{flexDirection:"row",justifyContent:"space-between",paddingVertical:12,paddingHorizontal:16}}),Pn=Object(_.a)(),jn=function(){return a.a.createElement(Pn.Navigator,{drawerContent:function(e){return a.a.createElement(Sn,e)}},a.a.createElement(Pn.Screen,{name:"Home",component:gn}))},xn=n(246),kn=n(117),Tn=n(74);function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rn=In(In(In({},an.a),xn.a),{},{colors:In(In(In({},an.a.colors),xn.a.colors),{},{primary:"#1ba1f2"})}),Dn=In(In(In({},Tn.a),kn.a),{},{colors:In(In(In({},Tn.a.colors),kn.a.colors),{},{primary:"#1ba1f2"})}),_n=r.createRef(),zn=r.createRef();var Fn=function(e){Vn(e)},Vn=function(e){var t;null==(t=zn.current)||t.resetRoot({index:0,routes:[{name:e}]})},Nn=(Object(z.a)(),Object(_.a)(),Object(z.a)(),function(){var e,t=a.a.useContext(Se).state;_n.current;a.a.useEffect((function(){return function(){_n.current=!1}}),[]),console.log("root state",null==zn||null==(e=zn.current)?void 0:e.getRootState()),console.log(t.isSignedIn);var n=Object(F.b)().dark?Rn:Dn;return a.a.createElement(a.a.Fragment,null,a.a.createElement(D.a,{ref:zn,onReady:function(){_n.current=!0},theme:n},a.a.createElement(a.a.Fragment,null,a.a.createElement(a.a.Fragment,null,t.isSignedIn?a.a.createElement(jn,null):a.a.createElement(He,null)))))}),An=n(195),Bn=function(){return d.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",An.b("token").then((function(e){return JSON.parse(e)})));case 1:case"end":return e.stop()}}),null,null,null,Promise)};function Ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mn(e){var t=e.children,n=a.a.useReducer((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe.TO_SIGNUP_PAGE:return qn(qn({},e),{},{isLoading:!1,isSignedUp:!1,noAccount:!0});case Oe.TO_SIGNIN_PAGE:return qn(qn({},e),{},{isLoading:!1,isSignedIn:!1,noAccount:!1});case Oe.RESTORE_TOKEN:return qn(qn({},e),{},{userToken:t.token,isLoading:!1});case Oe.SIGNED_UP:return qn(qn({},e),{},{isSignedIn:!0,isSignedUp:!0,isLoading:!1,userToken:t.token});case Oe.SIGN_IN:return qn(qn({},e),{},{isSignedOut:!1,isSignedIn:!0,isSignedUp:!0,userToken:t.token});case Oe.SIGN_OUT:return qn(qn({},e),{},{isSignedOut:!0})}}),we),r=u()(n,2),o=r[0],c=r[1];a.a.useEffect((function(){!function(){var e;d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if("web"===Xt.a.OS){t.next=10;break}return t.prev=1,t.next=4,d.a.awrap(Bn());case 4:e=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.log("error",t.t0.message);case 10:return t.prev=10,console.log("else"),t.next=14,d.a.awrap(re());case 14:e=t.sent,t.next=20;break;case 17:t.prev=17,t.t1=t.catch(10),console.log("error",t.t1.message);case 20:c({type:Oe.RESTORE_TOKEN,token:e});case 21:case"end":return t.stop()}}),null,null,[[1,7],[10,17]],Promise)}()}),[]);var i=be(),l=i.dispatch,s=i.setVendorId,m=a.a.useMemo((function(){return{signIn:function(e,t){return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===e||void 0===t){n.next=5;break}return n.next=3,d.a.awrap(ie({body:{username:e,password:t}}).then((function(e){e.ok?e.json().then((function(e){e&&(console.log(e),c({type:Oe.SIGN_IN,token:e.access}),l({type:fe.fetchVendorSuccess,vendor:e.user}),Fn("Products"),console.log(Fn("Products")))})):(l({type:fe.fetchVendorFailure}),console.log("Request failed"))})));case 3:n.next=6;break;case 5:c({type:Oe.TO_SIGNIN_PAGE,token:null});case 6:case"end":return n.stop()}}),null,null,null,Promise)},signOut:function(){return d.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.awrap(le({accessToken:o.userToken}).then((function(e){e.ok?c({type:Oe.SIGN_OUT,token:null}):console.log("Sign Out Failed")})));case 2:case"end":return e.stop()}}),null,null,null,Promise)},signUp:function(e,t,n){return d.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===e||void 0===t||void 0===n){r.next=5;break}return r.next=3,d.a.awrap(ce({body:{username:e,email:t,password:n}}).then((function(e){e.ok?e.json().then((function(e){e&&(c({type:Oe.SIGNED_UP,token:e.access}),s(e.user.id.toString()),l({type:fe.fetchVendorSuccess,vendor:e.user}))})):l({type:fe.fetchVendorFailure})})));case 3:r.next=6;break;case 5:c({type:Oe.TO_SIGNUP_PAGE,token:null});case 6:case"end":return r.stop()}}),null,null,null,Promise)},state:o,isSignedOut:o.isSignedOut,isSignedIn:o.isSignedIn,isLoading:o.isLoading,noAccount:o.noAccount,userToken:o.userToken}}),[o]);return a.a.createElement(Se.Provider,{value:m},t)}var Un=function(){var e=Object(c.useColorScheme)(),t=a.a.useState("dark"===e?"dark":"light"),n=u()(t,2),r=n[0],o=n[1],i=a.a.useState(C.a.isRTL),l=u()(i,1)[0];function s(){o((function(e){return"light"===e?"dark":"light"}))}var m=a.a.useCallback((function(){C.a.forceRTL(!l),R.a()}),[l]),d=a.a.useMemo((function(){return{toggleTheme:s,toggleRTL:m,theme:r,rtl:l?"right":"left"}}),[l,r,m]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(On.Provider,{value:d},a.a.createElement(I.a,{theme:"light"===r?Dn:Rn},a.a.createElement(ve,null,a.a.createElement(Mn,null,a.a.createElement(a.a.Fragment,null,a.a.createElement(at,null,a.a.createElement(Ee,null,a.a.createElement(Nn,null)))))))))};function Gn(){return function(){var e=r.useState(!1),t=u()(e,2),a=t[0],o=t[1];return r.useEffect((function(){d.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g.b(),e.next=4,d.a.awrap(f.b(v(v({},p.a.font),{},{"space-mono":n(334)})));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.warn(e.t0);case 9:return e.prev=9,o(!0),g.a(),e.finish(9);case 13:case"end":return e.stop()}}),null,null,[[0,6,9,13]],Promise)}),[]),a}()?a.a.createElement(a.a.Fragment,null,a.a.createElement(c.AppearanceProvider,null,a.a.createElement(o.b,null,a.a.createElement(Un,null)))):a.a.createElement(x,null)}},306:function(e,t,n){e.exports=n(367)},334:function(e,t,n){e.exports=n.p+"./fonts/SpaceMono-Regular.ttf"}},[[306,1,2]]]);
//# sourceMappingURL=app.57ceba63.chunk.js.map