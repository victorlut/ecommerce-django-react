(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{209:function(e,t,n){e.exports=n.p+"static/media/logo.529a4159.png"},265:function(e,t,n){"use strict";n.d(t,"a",(function(){return br}));var r=n(0),a=n.n(r),o=(n(138),n(169)),c=n(10),i=n.n(c),s=n(8),l=n.n(s),u=n(23),d=n(77),m=n(234);var p=n(3),f=n.n(p),g=n(359),h=n(151),y=n(75),b=n(88);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=E(E(E({},b.a),g.a),{},{colors:E(E(E({},b.a.colors),g.a.colors),{},{primary:"#1ba1f2"})}),O=E(E(E({},y.a),h.a),{},{colors:E(E(E({},y.a.colors),h.a.colors),{},{primary:"#1ba1f2"})}),P=a.a.createContext(void 0);function w(e){var t=e.children,n=Object(m.a)();console.log("Preferences: colorscheme",n);var r=a.a.useState(u.a.isRTL),o=i()(r,1)[0],c=a.a.useState(!1),s=i()(c,2),p=s[0],f=s[1];a.a.useEffect((function(){!function(){var e;l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.awrap(null==d.a?void 0:d.a.getItem("THEME_TYPE"));case 3:e=t.sent,console.log("Storage themePersistence: ","THEME_TYPE"),f("dark"===e),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),null,null,[[0,8]],Promise)}()}),[]);var g=a.a.useMemo((function(){return{toggleTheme:function(){f(!p),null==d.a||d.a.setItem("THEME_TYPE",p?"light":"dark")},toggleRTL:function(){return u.a.forceRTL(!o)},isThemeDark:p,setIsThemeDark:f,theme:p?S:O,rtl:o?"right":"left"}}),[o,p]);return a.a.createElement(P.Provider,{value:g},t)}var x=function(){return a.a.useContext(P)},T=n(7),k=n(40),C=n(271),I=n(369),j=n(167),D=n(266),R=n(2),_=n(49),N=n.n(_),F=n(1),V=n(239),z=n(14),A=n(361),q=n(24),M=n(4);function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S.colors.surface;if(e instanceof M.a.Value){var n=[0,1,2,3,8,24];return e.interpolate({inputRange:n,outputRange:n.map((function(e){return L(t,e)}))})}return L(t,e)}function L(e,t){var n;return n=t>=1&&t<=24?B[t]:t>24?B[24]:B[1],N()(e).mix(N()("white"),.01*n).hex()}var U,B={1:5,2:7,3:8,4:9,5:10,6:11,7:11.5,8:12,9:12.5,10:13,11:13.5,12:14,13:14.25,14:14.5,15:14.75,16:15,17:15.12,18:15.24,19:15.36,20:15.48,21:15.6,22:15.72,23:15.84,24:16},W=function(e){var t=e.open,n=e.setOpen,r=(e.success,e.error),c=e.warning,i=e.info,s=e.message,l=e.duration,u=void 0===l?2500:l,d=Object(z.b)(),m=Object(o.d)(),p=d.dark?G(6,d.colors.surface):d.colors.background,f=N()(d.colors.text).alpha(.6).rgb().string(),g=N()(d.colors.text).alpha(.8).rgb().string(),h=N()(d.colors.text).alpha(.15).rgb().string();return a.a.createElement(R.a,{style:H.container},a.a.createElement(V.a,{color:f,style:[H.snackBar,{bottom:m.bottom+65,backgroundColor:p,borderColor:h}],visible:t,onDismiss:function(){return n(!1)},duration:u,action:{label:r?a.a.createElement(A.a,{size:24,icon:"alert-decagram-outline",color:d.colors.error}):c?a.a.createElement(A.a,{size:24,icon:"alert-outline",color:d.colors.error}):i?a.a.createElement(A.a,{size:24,icon:"information-outline",color:d.colors.notification}):a.a.createElement(A.a,{size:24,icon:"check",color:d.colors.accent}),onPress:function(){return n(!1)}}},a.a.createElement(q.a,{style:{color:g}},s)))},H=F.a.create({container:{flex:1,justifyContent:"space-between"},snackBar:{borderWidth:F.a.hairlineWidth}}),J=function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d.a.getItem("token").then((function(e){return JSON.parse(e)})));case 1:case"end":return e.stop()}}),null,null,null,Promise)},K=function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",d.a.setItem("token",JSON.stringify(e)));case 1:case"end":return t.stop()}}),null,null,null,Promise)},Y=n(168),X=function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y.b("token").then((function(e){return JSON.parse(e)})));case 1:case"end":return e.stop()}}),null,null,null,Promise)},Z=function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Y.c("token",JSON.stringify(e)));case 1:case"end":return t.stop()}}),null,null,null,Promise)},$="https://thrifthub.s3.ap-southeast-1.amazonaws.com/media/images/default_avatar.png",Q="https://thrifthub.s3.ap-southeast-1.amazonaws.com/media/images/default_avatar.png",ee="https://thrifthub-backend.herokuapp.com/api",te=function(e){var t=e.method,n=e.access,r=(e.refresh,e.url),a=e.body;return"post"===t?n?new Request(ee+"/"+r+"/",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:n?"Bearer "+n:""},credentials:"include",body:a?JSON.stringify(a):null}):new Request(ee+"/"+r+"/",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}):"put"===t?new Request(ee+"/"+r+"/",{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n},body:JSON.stringify(a)}):"delete"===t?new Request(ee+"/"+r+"/",{method:"DELETE",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n},body:JSON.stringify(a)}):new Request(ee+"/"+r+"/",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}})},ne=function(e){var t=e.method,n=e.access,r=(e.refresh,e.url),a=e.body;return"post"===t?n?new Request(ee+"/"+r+"/",{method:"POST",mode:"cors",headers:{Authorization:n?"Bearer "+n:""},credentials:"include",body:a}):new Request(ee+"/"+r+"/",{method:"POST",credentials:"include",body:a}):"put"===t?new Request(ee+"/"+r+"/",{method:"PUT",credentials:"include",headers:{Authorization:"Bearer "+n},body:a}):"delete"===t?new Request(ee+"/"+r+"/",{method:"DELETE",credentials:"include",headers:{Authorization:"Bearer "+n}}):new Request(ee+"/"+r+"/",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}})};function re(e){var t=e.body,n=te({method:"post",url:"account/register",body:{username:t.username,email:t.email,password:t.password}});return fetch(n)}function ae(e){var t=e.body,n=te({method:"post",url:"account/login",body:{username:t.username,password:t.password}});return fetch(n)}function oe(e){var t=e.accessToken,n=te({method:"post",url:"account/logout_all",access:t});return fetch(n)}function ce(e,t,n,r,a,o,c,i){var s=new FormData;return s.append("vendor",e),s.append("title",t),s.append("description",r),s.append("price",a),s.append("condition",o),s.append("category",n),i&&Array.from(i).forEach((function(e){s.append("images",e,e.name)})),function(e){var t=e.url,n=e.accessToken,r=e.refreshToken,a=e.body,o=ne({method:"post",url:t,access:n,refresh:r||"",body:a});return fetch(o)}({url:"store",body:s,accessToken:c})}function ie(e,t,n,r,a,o,c,i,s){var l=new FormData;return l.append("vendor",t),l.append("title",n),l.append("description",a),l.append("price",o),l.append("condition",c),l.append("category",r),s&&Array.from(s).forEach((function(e){l.append("images",e,e.name)})),function(e){var t=e.url,n=e.accessToken,r=e.body,a=ne({method:"put",url:t,access:n,body:r});return fetch(a)}({url:"store/"+e,body:l,accessToken:i})}function se(e){var t=e.url,n=e.accessToken,r=e.body,a=te({method:"delete",url:t,access:n,body:r});return fetch(a)}function le(e){var t=e.url,n=e.accessToken,r=e.body,a=te({method:"put",url:t,access:n,body:r});return fetch(a)}function ue(e){var t=e.url,n=e.accessToken,r=e.refreshToken,a=e.body,o=te({method:"post",url:t,access:n,refresh:r||"",body:a});return fetch(o)}function de(e){var t=e.url,n=te({method:"get",url:t});return fetch(n).then((function(e){return e.json()}))}function me(e){return de({url:"vendor/"+e})}function pe(e,t,n){return ue({url:"vendor/"+e+"/favorites",body:{product_id:t},accessToken:n})}function fe(e,t,n){return se({url:"vendor/"+e+"/favorites",body:{product_id:t},accessToken:n})}function ge(e,t,n){return ue({url:"orders",body:{product:e,buyer:t},accessToken:n})}function he(e,t,n,r){return ue({url:"orders",body:{product:e,buyer:t,amount:n},accessToken:r})}function ye(e,t,n,r){return le({url:"orders/"+e,body:{product:t,buyer:n,status:"ACCEPTED"},accessToken:r})}function be(e,t,n,r){return le({url:"orders/"+e,body:{product:t,buyer:n,status:"DENIED"},accessToken:r})}function ve(e,t,n,r){return le({url:"orders/"+e,body:{product:t,buyer:n,status:"COMPLETED"},accessToken:r})}function Ee(e,t,n,r,a,o,c,i,s,l,u,d){return ue({url:"orderdetail",body:{order:t,full_name:n,email:r,phone_number:a,country:o,town_or_city:c,street_address1:i,street_address2:s,county:l,zipcode:d,stripe_pid:u},accessToken:e})}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.fetchProducts=0]="fetchProducts",e[e.fetchProductsSuccess=1]="fetchProductsSuccess",e[e.fetchProductsFailure=2]="fetchProductsFailure"}(U||(U={}));var Pe={products:[],loading:!1,error:""},we=a.a.createContext(void 0);function xe(e){var t=e.children,n=a.a.useReducer((function(e,t){var n=t.type,r=t.products,a=t.error;switch(n){case U.fetchProducts:return Oe(Oe({},e),{},{loading:!0});case U.fetchProductsSuccess:return Oe(Oe({},e),{},{products:r,loading:!1});case U.fetchProductsFailure:return Oe(Oe({},e),{},{error:a,loading:!1});default:return e}}),Pe),r=i()(n,2),o=r[0],c=r[1],s=a.a.useState([{label:"Category",value:0}]),u=i()(s,2),d=u[0],m=u[1];function p(){var e;return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:U.fetchProducts}),t.next=3,l.a.awrap(de({url:"store/?expand=product_images,vendor,product,category&include=vendor.name"}));case 3:e=t.sent,c(e?{type:U.fetchProductsSuccess,products:e}:{type:U.fetchProductsFailure});case 5:case"end":return t.stop()}}),null,null,null,Promise)}function f(){var e;return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(de({url:"category"}));case 2:(e=t.sent)&&m(e.map((function(e){return{label:e.name,value:e.id}})));case 4:case"end":return t.stop()}}),null,null,null,Promise)}console.log("Products Context Render"),a.a.useEffect((function(){p()}),[]),a.a.useEffect((function(){f()}),[]);var g=o.products,h=o.loading,y=o.error;return a.a.createElement(we.Provider,{value:{products:g,loading:h,error:y,dispatch:c,loadProducts:p,loadCategories:f,categoryOptions:d}},t)}var Te,ke=function(){return a.a.useContext(we)};function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.fetchVendor=0]="fetchVendor",e[e.fetchVendorSuccess=1]="fetchVendorSuccess",e[e.fetchVendorFailure=2]="fetchVendorFailure",e[e.fetchVendorFaves=3]="fetchVendorFaves",e[e.fetchVendorOrderRequests=4]="fetchVendorOrderRequests",e[e.fetchVendorOrdersMade=5]="fetchVendorOrdersMade"}(Te||(Te={}));var je={vendor:void 0,loading:!1,error:{}},De=a.a.createContext(void 0);function Re(e){var t=e.children,n=ke().loadProducts,r=a.a.useState(void 0),o=i()(r,2),c=o[0],s=o[1],u=a.a.useReducer((function(e,t){var n=t.type,r=t.vendor,a=t.favorites,o=t.order_requests,c=t.orders_made,i=t.error;switch(n){case Te.fetchVendor:return Ie(Ie({},e),{},{loading:!0});case Te.fetchVendorSuccess:return Ie(Ie({},e),{},{vendor:r,loading:!1});case Te.fetchVendorFailure:return Ie(Ie({},e),{},{error:i,loading:!1});case Te.fetchVendorFaves:return Ie(Ie({},e),{},{loading:!1,favorites:a});case Te.fetchVendorOrdersMade:return Ie(Ie({},e),{},{orders_made:c});case Te.fetchVendorOrderRequests:return Ie(Ie({},e),{},{order_requests:o});default:return e}}),je),d=i()(u,2),m=d[0],p=d[1];function f(e){var t;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return p({type:Te.fetchVendor}),n.next=3,l.a.awrap(me(e));case 3:(t=n.sent)&&(console.log("VendorDispatch: Vendor data reloaded",t),p({type:Te.fetchVendorSuccess,vendor:t}));case 5:case"end":return n.stop()}}),null,null,null,Promise)}var g=m.vendor,h=m.loading,y=m.error;a.a.useEffect((function(){m.vendor&&s(m.vendor.id.toString())}),[m]),console.log("currentVendorId",c);var b=a.a.useState(!1),v=i()(b,2),E=v[0],S=v[1],O=a.a.useState(!1),P=i()(O,2),w=P[0],x=P[1],T=a.a.useState(!1),k=i()(T,2),C=k[0],I=k[1],j=a.a.useState(""),D=i()(j,2),_=D[0],N=D[1],F=function(e){N(e),S(!0),setTimeout((function(){S(!1),N("")}),2500)},V=function(e){N(e),x(!0),setTimeout((function(){x(!1),N("")}),2500)},z=function(e){N(e),I(!0),setTimeout((function(){I(!1),N("")}),2500)};console.log("Vendor Context Render");var A=a.a.useMemo((function(){return{addVendorFavorite:function(e,t){var n;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=c||(null==g?void 0:g.id.toString())||"",console.group("Vendor Provider: adding favorite"),void 0===e||void 0===t){r.next=8;break}return console.log("Fetching with",n,e,t),r.next=6,l.a.awrap(pe(n,e,t).then((function(e){e.ok?e.json().then((function(e){e&&(console.log("Vendor Provider: Add favorite success message",e.message),F(e.message),console.log("vendorId in request add",c),f(n))})):(console.warn("Vendor Provider: Add favorite failed message",e.json().then((function(e){return e?JSON.parse(e):"Request Failed"}))),V(e.json().then((function(e){return e?JSON.parse(e):"Request Failed"}))))})));case 6:r.next=10;break;case 8:console.warn("Vendor Provider: Credetials error"),z("Request Failed");case 10:console.groupEnd();case 11:case"end":return r.stop()}}),null,null,null,Promise)},removeVendorFavorite:function(e,t){var n;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=c||(null==g?void 0:g.id.toString())||"",console.group("Vendor Provider: removing favorite"),void 0===e||void 0===t){r.next=8;break}return console.log("Fetching with",n,e,t),r.next=6,l.a.awrap(fe(n,e,t).then((function(e){e.ok?e.json().then((function(e){e&&(console.log("Vendor Provider: Remove favorite success message",e.message),F(e.message),f(n))})):(console.warn("Vendor Provider: Remove favorite failed message",e.json().then((function(e){return e?JSON.parse(e):"Request Failed"}))),V(e.json().then((function(e){return e?JSON.parse(e):"Request Failed"}))))})));case 6:r.next=10;break;case 8:console.warn("Vendor Provider: Credetials error"),z("Request Failed");case 10:console.groupEnd();case 11:case"end":return r.stop()}}),null,null,null,Promise)},makeOffer:function(e,t,n){var r;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=c||(null==g?void 0:g.id.toString())||"",console.group("Vendor Provider: Making Offer"),void 0===e||void 0===t||void 0===n){a.next=8;break}return console.log("Fetching with",e,t,n),a.next=6,l.a.awrap(he(e,r,t,n).then((function(e){e.ok?e.json().then((function(e){console.log("Offer Success Order Status",e.status),console.log("Offer Success Order data",e),console.log("Offer Success Order Id",e.id),F("Offer Made. Status: "+e.status+". Order ID: "+e.id+" "),f(r)})):(console.warn("Offer Failed",e.json().then((function(e){return e?JSON.parse(e):"Offer Request Failed"}))),V(e.json().then((function(e){return e?JSON.parse(e):"Offer Request Failed"}))))})));case 6:a.next=10;break;case 8:console.warn("Offer: Credentials error"),z("Request Failed with Credentials Error");case 10:console.groupEnd();case 11:case"end":return a.stop()}}),null,null,null,Promise)},makePurchase:function(e,t){var n;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=c||(null==g?void 0:g.id.toString())||"",console.group("Vendor Provider: Making Purchase"),void 0===e||void 0===t){r.next=8;break}return console.log("fetching with",n,e,t),r.next=6,l.a.awrap(ge(e,n,t).then((function(e){e.ok?e.json().then((function(e){console.log("Purchase Success Order Status",e.status),console.log("Purchase Success Order data",e),console.log("Purchase Success Order Id",e.id),F("Purchase Initiated. Status: "+e.status+". Order ID: "+e.id+" "),f(n)})):(console.warn("Purchase Failed",e.json().then((function(e){return e?JSON.parse(e):"Purchase Request Failed"}))),V(e.json().then((function(e){return e?JSON.parse(e):"Purchase Request Failed"}))))})));case 6:r.next=10;break;case 8:console.warn("Purchase: Credentials error"),z("Request Failed");case 10:console.groupEnd();case 11:case"end":return r.stop()}}),null,null,null,Promise)},acceptOffer:function(e,t,n,r){return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(console.group("Vendor Provider: Accepting Offer"),void 0===e||void 0===t||void 0===n||void 0===r){a.next=7;break}return console.log("Fetching with",e,t,n,r),a.next=5,l.a.awrap(ye(e,t,n,r).then((function(e){e.ok?e.json().then((function(e){console.log("Accept Offer Success Order Status",e.status),console.log("Accept Success Order data",e),console.log("Accept Success Order Id",e.id),F("Offer Accepted. Status: "+e.status+". Order ID: "+e.id+" "),c&&f(c)})):(console.warn("Accept Failed",e.json().then((function(e){return e?JSON.parse(e):"Request to Accept Offer Failed"}))),V(e.json().then((function(e){return e?JSON.parse(e):"Request to Accept Offer Failed"}))))})));case 5:a.next=9;break;case 7:console.warn("Offer: Credentials error"),z("Request Failed with Credentials Error");case 9:console.groupEnd();case 10:case"end":return a.stop()}}),null,null,null,Promise)},declineOffer:function(e,t,n,r){return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(console.group("Vendor Provider: Declining Offer"),void 0===e||void 0===t||void 0===n||void 0===r){a.next=7;break}return console.log("Fetching with",e,t,n,r),a.next=5,l.a.awrap(be(e,t,n,r).then((function(e){e.ok?e.json().then((function(e){console.log("Decline Offer Success Order Status",e.status),console.log("Decline Success Order data",e),console.log("Decline Success Order Id",e.id),F("Offer Declined. Status: "+e.status+". Order ID: "+e.id+" "),c&&f(c)})):(console.warn("Decline Failed",e.json().then((function(e){return e?JSON.parse(e):"Request to Decline Offer Failed"}))),V(e.json().then((function(e){return e?JSON.parse(e):"Request to Decline Offer Failed"}))))})));case 5:a.next=9;break;case 7:console.warn("Offer: Credentials error"),z("Request Failed with Credentials Error");case 9:console.groupEnd();case 10:case"end":return a.stop()}}),null,null,null,Promise)},completePayment:function(e,t,n,r){return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(console.group("Vendor Provider: Completing Payment"),void 0===e||void 0===t||void 0===n||void 0===r){a.next=7;break}return console.log("Fetching with",e,t,n,r),a.next=5,l.a.awrap(ve(e,t,n,r).then((function(e){e.ok?e.json().then((function(e){console.log("Complete Payment Success Order Status",e.status),console.log("Complete Payment Success Order data",e),console.log("Complete Payment Success Order Id",e.id),F("Payment Completed. Status: "+e.status+". Order ID: "+e.id+" "),c&&f(c)})):(console.warn("Complete Payment Failed",e.json().then((function(e){return e?JSON.parse(e):"Request to Complete Payment Failed"}))),V(e.json().then((function(e){return e?JSON.parse(e):"Request to Complete Payment Failed"}))))})));case 5:a.next=9;break;case 7:console.warn("Offer: Credentials error"),z("Request Failed with Credentials Error");case 9:console.groupEnd();case 10:case"end":return a.stop()}}),null,null,null,Promise)},createProduct:function(e,t,r,a,o,i,s){var u;return l.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(u=c||(null==g?void 0:g.id.toString())||"",console.group("Vendor Provider: Creating Product"),void 0===e||void 0===t||void 0===r||void 0===a||void 0===o||void 0===i||void 0===s){d.next=8;break}return console.log("Fetching with",e,t,r,a,o,i,s),d.next=6,l.a.awrap(ce(u,e,t,r,a,o,i,s).then((function(e){e.ok?e.json().then((function(e){e&&(console.log("Vendor Provider: Create Product success data",e),F("Product Created. Product ID: "+e.id),f(u),console.log("current vendor id in fetch",c),n())})):(console.warn("Vendor Provider: Create Productfailed message",e.json().then((function(e){return e?JSON.parse(e):"Creating Product Failed"}))),V(e.json().then((function(e){return e?JSON.parse(e):"Creating Product Failed"}))))})));case 6:d.next=11;break;case 8:console.warn("Vendor Provider: Credetials error"),console.log(c,e,r,t,a,o,i,s),z("Request Failed");case 11:console.groupEnd();case 12:case"end":return d.stop()}}),null,null,null,Promise)},updateProduct:function(e,t,r,a,o,i,s,u){var d;return l.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:if(d=c||(null==g?void 0:g.id.toString())||"",console.group("Vendor Provider: Updating Product"),void 0===e||void 0===t||void 0===r||void 0===a||void 0===o||void 0===i||void 0===s||void 0===u){m.next=8;break}return console.log("Fetching with",e,t,r,a,o,i,s,u),m.next=6,l.a.awrap(ie(e,d,t,r,a,o,i,s,u).then((function(e){e.ok?e.json().then((function(e){e&&(console.log("Vendor Provider: Update Product success data",e),F("Product Updated. Product ID: "+e.id),f(d),n())})):(console.warn("Vendor Provider: Create Productfailed message",e.json().then((function(e){return e?JSON.parse(e):"Update Product Failed"}))),V(e.json().then((function(e){return e?JSON.parse(e):"Update Product Failed"}))))})));case 6:m.next=10;break;case 8:console.warn("Vendor Provider: Credetials error"),z("Request Failed");case 10:console.groupEnd();case 11:case"end":return m.stop()}}),null,null,null,Promise)},loading:h,error:y,vendor:g,state:m,dispatch:p,vendorId:c,loadVendorData:f}}),[m]);return a.a.createElement(De.Provider,{value:A},t,a.a.createElement(R.a,null,a.a.createElement(W,{open:E,setOpen:S,success:!0,message:_}),a.a.createElement(W,{open:w,setOpen:x,warning:!0,message:_}),a.a.createElement(W,{open:C,setOpen:I,error:!0,message:_})))}var _e,Ne=function(){return a.a.useContext(De)};function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.TO_SIGNUP_PAGE=0]="TO_SIGNUP_PAGE",e[e.TO_SIGNIN_PAGE=1]="TO_SIGNIN_PAGE",e[e.RESTORE_TOKEN=2]="RESTORE_TOKEN",e[e.RESTORE_TOKEN_ERROR=3]="RESTORE_TOKEN_ERROR",e[e.SIGNING_IN=4]="SIGNING_IN",e[e.SIGNING_IN_ERROR=5]="SIGNING_IN_ERROR",e[e.SIGNING_OUT=6]="SIGNING_OUT",e[e.SIGNING_OUT_ERROR=7]="SIGNING_OUT_ERROR",e[e.SIGNED_UP=8]="SIGNED_UP",e[e.SIGN_IN=9]="SIGN_IN",e[e.SIGN_OUT=10]="SIGN_OUT"}(_e||(_e={}));var ze={isLoading:!0,isSignedOut:!1,isSignedUp:!1,noAccount:!1,isSignedIn:!1,accessToken:null,refreshToken:null,error:void 0},Ae=a.a.createContext(void 0);function qe(e){var t=e.children,n=a.a.useReducer((function(e,t){var n=t.type,r=t.error,a=t.accessToken;switch(n){case _e.TO_SIGNUP_PAGE:return Ve(Ve({},e),{},{isLoading:!1,isSignedUp:!1,noAccount:!0});case _e.TO_SIGNIN_PAGE:return Ve(Ve({},e),{},{isLoading:!1,isSignedIn:!1,noAccount:!1});case _e.RESTORE_TOKEN:return Ve(Ve({},e),{},{accessToken:a,isLoading:!1});case _e.RESTORE_TOKEN_ERROR:return Ve(Ve({},e),{},{error:r,isLoading:!1});case _e.SIGNED_UP:return Ve(Ve({},e),{},{isSignedIn:!0,isSignedUp:!0,isLoading:!1,accessToken:a});case _e.SIGNING_IN:return Ve(Ve({},e),{},{isLoading:!0});case _e.SIGNING_IN_ERROR:return Ve(Ve({},e),{},{isLoading:!1,error:r});case _e.SIGN_IN:return Ve(Ve({},e),{},{isSignedOut:!1,isSignedIn:!0,isSignedUp:!0,accessToken:a});case _e.SIGNING_OUT:return Ve(Ve({},e),{},{loading:!0});case _e.SIGN_OUT:return Ve(Ve({},e),{},{isLoading:!1,isSignedOut:!0,accessToken:null,refreshToken:null});case _e.SIGNING_OUT_ERROR:return Ve(Ve({},e),{},{isLoading:!1,error:r})}}),ze),r=i()(n,2),o=r[0],c=r[1];a.a.useEffect((function(){!function(){var e,t,n;l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if("web"===T.a.OS){r.next=12;break}return r.prev=1,r.next=4,l.a.awrap(X());case 4:(t=r.sent)&&(e=t),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(1),c({type:_e.RESTORE_TOKEN_ERROR,accessToken:null,error:r.t0}),console.log("error",r.t0.message);case 12:return r.prev=12,console.log("else"),r.next=16,l.a.awrap(J());case 16:(n=r.sent)&&(console.log("token in local",n),e=n,c({type:_e.RESTORE_TOKEN,accessToken:n})),r.next=24;break;case 20:r.prev=20,r.t1=r.catch(12),c({type:_e.RESTORE_TOKEN_ERROR,accessToken:null,error:r.t1}),console.log("error",r.t1.message);case 24:console.log("fetched token",e),c({type:_e.RESTORE_TOKEN,accessToken:e}),console.log("stored to state",o.accessToken);case 27:case"end":return r.stop()}}),null,null,[[1,8],[12,20]],Promise)}()}),[]);var s=Ne().dispatch,u=a.a.useState(!1),d=i()(u,2),m=d[0],p=d[1],f=a.a.useState(!1),g=i()(f,2),h=g[0],y=g[1],b=a.a.useState(!1),v=i()(b,2),E=v[0],S=v[1],O=a.a.useState(""),P=i()(O,2),w=P[0],x=P[1],k=function(e){x(e),p(!0),setTimeout((function(){p(!1),x("")}),2500)},C=function(e){x(e),y(!0),setTimeout((function(){y(!1),x("")}),2500)},I=function(e){x(e),S(!0),setTimeout((function(){S(!1),x("")}),2500)};console.log("second stored to state",o.accessToken);var j=a.a.useMemo((function(){return{signIn:function(e,t,n){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===e||void 0===t){n.next=6;break}return c({type:_e.SIGNING_IN}),n.next=4,l.a.awrap(ae({body:{username:e,password:t}}).then((function(e){e.ok?e.json().then((function(e){e&&(console.log("Sign In Data",e),c({type:_e.SIGN_IN,accessToken:e.access}),"web"!==T.a.OS&&(console.log("native set token"),Z(e.access)),K(e.access),s({type:Te.fetchVendorSuccess,vendor:e.user}),k("Welcome back, "+e.user.name))})):(c({type:_e.SIGNING_IN_ERROR,error:e.json().then((function(e){return e?JSON.parse(e):{message:"Sign In Failed"}}))}),s({type:Te.fetchVendorFailure}),C(e.json().then((function(e){return e?JSON.parse(e):"Sign In Failed"}))))})));case 4:n.next=8;break;case 6:c({type:_e.TO_SIGNIN_PAGE}),I("Request Failed");case 8:case"end":return n.stop()}}),null,null,null,Promise)},signOut:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("AuthContext: Sign out"),c({type:_e.SIGNING_OUT}),e.next=4,l.a.awrap(oe({accessToken:o.accessToken}).then((function(e){e.ok?(c({type:_e.SIGN_OUT}),k("Signed Out")):(c({type:_e.SIGNING_OUT_ERROR,error:e.json().then((function(e){return e?JSON.parse(e):{message:"Sign Out Failed"}}))}),C(e.json().then((function(e){return e?JSON.parse(e):"Sign Out Failed"}))))})));case 4:case"end":return e.stop()}}),null,null,null,Promise)},signUp:function(e,t,n){return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===e||void 0===t||void 0===n){r.next=6;break}return c({type:_e.SIGNING_IN}),r.next=4,l.a.awrap(re({body:{username:e,email:t,password:n}}).then((function(e){e.ok?e.json().then((function(e){e&&(c({type:_e.SIGNED_UP,accessToken:e.access}),"web"!==T.a.OS&&(console.log("native set token"),Z(e.access)),K(e.access),s({type:Te.fetchVendorSuccess,vendor:e.user}),k("Account Created"))})):(c({type:_e.SIGNING_IN_ERROR,error:e.json().then((function(e){return e?JSON.parse(e):{message:"Sign Up Failed"}}))}),s({type:Te.fetchVendorFailure}),C(e.json().then((function(e){return e?JSON.parse(e):"Sign Up Failed"}))))})));case 4:r.next=8;break;case 6:c({type:_e.TO_SIGNUP_PAGE}),I("Request Failed");case 8:case"end":return r.stop()}}),null,null,null,Promise)},state:o,isSignedOut:o.isSignedOut,isSignedIn:o.isSignedIn,isLoading:o.isLoading,noAccount:o.noAccount,accessToken:o.accessToken,isSignedUp:o.isSignedUp}}),[o]);return a.a.createElement(Ae.Provider,{value:j},t,a.a.createElement(R.a,null,a.a.createElement(W,{open:m,setOpen:p,success:!0,message:w}),a.a.createElement(W,{open:h,setOpen:y,warning:!0,message:w}),a.a.createElement(W,{open:E,setOpen:S,error:!0,message:w})))}var Me=function(){return a.a.useContext(Ae)},Ge=n(370),Le=n(35),Ue=n(57),Be=n(363),We=n(268),He=n(245),Je=n(246);function Ke(e){var t=e.children,r=Object(z.b)();return a.a.createElement(He.a,{source:n(330),resizeMode:"repeat",style:[Ye.background,{backgroundColor:r.colors.surface}]},a.a.createElement(Je.a,{style:Ye.container,behavior:"padding"},t))}var Ye=F.a.create({background:{flex:1,width:"100%"},container:{flex:1,padding:20,width:"100%",maxWidth:340,alignSelf:"center",alignItems:"center",justifyContent:"center"}}),Xe=n(38),Ze=n(63);function $e(e){var t=e.loading;return t?a.a.createElement(Ze.a,{animating:t,style:Qe.image}):a.a.createElement(Xe.a,{source:n(209),style:Qe.image})}var Qe=F.a.create({image:{width:110,height:110,marginBottom:8}});function et(e){var t=e.children,n=Object(z.b)();return a.a.createElement(q.a,{style:{fontSize:21,color:n.colors.primary,fontWeight:"bold",paddingVertical:12}},t," ")}var tt=n(99),nt=n(34);function rt(e){var t=e.navigation,n=Object(z.b)();return a.a.createElement(Ke,null,a.a.createElement($e,null),a.a.createElement(et,null,"Welcome to ThriftHub"),a.a.createElement(tt.a,null,"An online thrift store for second-hand goods!"),a.a.createElement(nt.a,{mode:"contained",labelStyle:at.text,style:at.button,onPress:function(){return t.navigate("LoginScreen")}},"Login"),a.a.createElement(nt.a,{mode:"outlined",labelStyle:at.text,style:[at.button,{backgroundColor:n.colors.surface}],onPress:function(){return t.navigate("RegisterScreen")}},"Sign Up"))}var at=F.a.create({button:{width:"100%",marginVertical:10,paddingVertical:2},text:{fontWeight:"bold",fontSize:15,lineHeight:26}}),ot=n(60),ct=n(56),it=n(134),st=n.n(it),lt=n(135),ut=n(73),dt=n(28);n(362),n(269);function mt(e){var t=e.navigation,n=Object(z.b)(),o=Me(),c=o.signIn,s=o.isLoading,l=Object(r.useState)(""),u=i()(l,2),d=u[0],m=u[1],p=Object(r.useState)(""),f=i()(p,2),g=f[0],h=f[1],y=Object(ct.d)({defaultValues:{username:"",password:""},mode:"onChange",criteriaMode:"all"}),b=y.control,v=y.setFocus,E=y.handleSubmit,S=y.formState.errors,O=function(e,t){console.log(e,t),c(e.username,e.password)},P=function(e,t){console.log(e,t)};return a.a.createElement(Ke,null,a.a.createElement($e,{loading:s}),a.a.createElement(et,null,"Welcome Back"),a.a.createElement(R.a,{style:pt.container},a.a.createElement(ut.a,{inputSpacing:12,inputSpacingHorizontal:4,theme:n,control:b,setFocus:v,formConfigArray:[{name:"username",type:"text",textInputProps:{label:"Username",style:pt.textInput,left:a.a.createElement(dt.a.Icon,{name:"account"}),underlineColor:"transparent",mode:"outlined",textContentType:"username",returnKeyType:"next",keyboardType:"default",autoCapitalize:"none",value:d,onChangeText:function(e){return m(e)},onSubmitEditing:function(){return v("password")}},rules:{required:{value:!0,message:"Username is required"}}},{name:"password",type:"password",textInputProps:{label:"Password",style:pt.textInput,left:a.a.createElement(dt.a.Icon,{name:"lock"}),underlineColor:"transparent",mode:"outlined",textContentType:"password",returnKeyType:"send",keyboardType:"default",value:g,onChangeText:function(e){return h(e)},secureTextEntry:!0,onSubmitEditing:function(){return E(O,P)}},rules:{required:{value:!0,message:"Password is required"},minLength:{value:4,message:"Password should be atleast 4 characters"},maxLength:{value:30,message:"Password should be between 8 and 30 characters"}}}]})),a.a.createElement(nt.a,{mode:"contained",labelStyle:pt.text,style:[pt.button,{marginTop:24}],onPress:E(O,P)},"LogIn"),a.a.createElement(lt.a,{errors:S,name:"username",render:function(e){var t=e.messages;return console.log("messages",t),t&&st.a.entries(t).map((function(e){var t=i()(e,2),n=t[0],r=t[1];return a.a.createElement(q.a,{key:n},r)}))}}),a.a.createElement(lt.a,{errors:S,name:"password",render:function(e){var t=e.messages;return console.log("messages",t),t&&st.a.entries(t).map((function(e){var t=i()(e,2),n=t[0],r=t[1];return a.a.createElement(q.a,{key:n},r)}))}}),a.a.createElement(R.a,{style:pt.row},a.a.createElement(q.a,null,"Don\u2019t have an account? "),a.a.createElement(ot.a,{onPress:function(){return t.replace("RegisterScreen")}},a.a.createElement(q.a,{style:{fontWeight:"bold",color:n.colors.primary}},"Sign up"))))}var pt=F.a.create({forgotPassword:{width:"100%",alignItems:"flex-end",marginBottom:24},row:{flexDirection:"row",marginTop:4},halfContainer:{flex:1,padding:8},headline:{textAlign:"center"},textInput:{paddingVertical:5},button:{width:"100%",marginVertical:10,paddingVertical:2},text:{fontWeight:"bold",fontSize:15,lineHeight:26},container:{width:"100%",marginVertical:12}});function ft(e){var t=e.navigation,n=Object(z.b)(),o=Me(),c=(o.signIn,o.signUp),s=o.isLoading,l=Object(r.useState)(""),u=i()(l,2),d=u[0],m=u[1],p=Object(r.useState)(""),f=i()(p,2),g=f[0],h=f[1],y=Object(r.useState)(""),b=i()(y,2),v=b[0],E=b[1],S=Object(ct.d)({defaultValues:{username:"",password:""},mode:"onChange",criteriaMode:"all"}),O=S.control,P=S.setFocus,w=S.handleSubmit;S.formState.errors;return a.a.createElement(Ke,null,a.a.createElement($e,{loading:s}),a.a.createElement(et,null,"Create Account"),a.a.createElement(R.a,{style:gt.container},a.a.createElement(ut.a,{inputSpacing:12,inputSpacingHorizontal:4,theme:n,control:O,setFocus:P,formConfigArray:[{name:"username",type:"text",textInputProps:{label:"Username",style:gt.textInput,left:a.a.createElement(dt.a.Icon,{name:"account"}),underlineColor:"transparent",mode:"outlined",textContentType:"username",returnKeyType:"next",keyboardType:"default",value:d,onChangeText:function(e){return m(e)}},rules:{required:{value:!0,message:"Username is required"}}},{name:"email",type:"email",textInputProps:{label:"Email",left:a.a.createElement(dt.a.Icon,{name:"email"}),underlineColor:"transparent",mode:"outlined",autoCapitalize:"none",autoCompleteType:"email",textContentType:"emailAddress",keyboardType:"email-address",returnKeyType:"next",value:g,onChangeText:function(e){return h(e)}},rules:{required:{value:!0,message:"Email is required"},pattern:{value:/\S+@\S+\.\S+/,message:"Email is invalid"}}},{name:"password",type:"password",textInputProps:{label:"Password",style:gt.textInput,left:a.a.createElement(dt.a.Icon,{name:"lock"}),underlineColor:"transparent",mode:"outlined",textContentType:"password",returnKeyType:"done",keyboardType:"default",value:v,onChangeText:function(e){return E(e)},secureTextEntry:!0},rules:{required:{value:!0,message:"Password is required"},minLength:{value:4,message:"Password should be atleast 4 characters"},maxLength:{value:30,message:"Password should be between 8 and 30 characters"}}}]})),a.a.createElement(nt.a,{mode:"contained",labelStyle:gt.text,style:[gt.button,{marginTop:24}],onPress:w((function(e,t){console.log(e,t),c(e.username,e.email,e.password)}),(function(e,n){console.log(e,n),t.reset({index:0,routes:[{name:"StartScreen"}]})}))},"Sign Up"),a.a.createElement(R.a,{style:gt.row},a.a.createElement(q.a,null,"Already have an account? "),a.a.createElement(ot.a,{onPress:function(){return t.replace("LoginScreen")}},a.a.createElement(q.a,{style:{fontWeight:"bold",color:n.colors.primary}},"Login"))))}var gt=F.a.create({row:{flexDirection:"row",marginTop:4},textInput:{paddingVertical:5},button:{width:"100%",marginVertical:10,paddingVertical:2},text:{fontWeight:"bold",fontSize:15,lineHeight:26},container:{width:"100%",marginVertical:12}}),ht=n(31);var yt=n(19),bt=n.n(yt);n(9);F.a.create({text:{fontSize:15,lineHeight:21,textAlign:"center",marginBottom:12}});var vt=Object(Ge.a)(),Et=function(){var e=Object(z.b)(),t=Me().state;return console.log("AccountStackNavigator",vt),a.a.createElement(vt.Navigator,{initialRouteName:"StartScreen",screenOptions:{headerShown:!0,animationEnabled:!0,cardOverlayEnabled:!0,cardShadowEnabled:!0,animationTypeForReplace:"push",header:function(t){var r=t.navigation,o=t.route,c=t.back,i=t.options,s=void 0!==i.headerTitle?i.headerTitle:void 0!==i.title?i.title:o.name;return a.a.createElement(Ue.a.Header,{theme:{colors:{primary:e.dark?G(6,e.colors.surface):e.colors.surface}}},c?a.a.createElement(Ue.a.BackAction,{onPress:r.goBack,color:e.colors.primary}):a.a.createElement(Be.a,{size:40,style:{backgroundColor:"transparent"},source:n(209)}),a.a.createElement(Ue.a.Content,{title:"StartScreen"===s?a.a.createElement(We.a,{style:{marginRight:10},name:"package-variant-closed",size:40,color:e.colors.primary}):s,titleStyle:{fontSize:18,fontWeight:"bold",color:e.colors.primary}}))}}},a.a.createElement(vt.Screen,{name:"StartScreen",component:rt,options:function(e){var t,n=e.route;return{headerTitle:null!=(t=Object(Le.o)(n))?t:"StartScreen"}}}),a.a.createElement(vt.Screen,{name:"LoginScreen",component:mt,options:{headerTitle:"Sign In"}}),a.a.createElement(vt.Screen,{name:"RegisterScreen",component:ft,options:{headerTitle:"Register",animationTypeForReplace:t.isSignedOut?"pop":"push"}}))},St=n(121),Ot=n(45),Pt=n(368),wt=n(64),xt=n(41),Tt=n(65),kt=n(30),Ct=n(364),It=n(109),jt=n(83),Dt=n(253),Rt=n(187),_t=n.n(Rt),Nt=n(251),Ft=n.n(Nt),Vt=function(e){var t=e.date;return _t.a.extend(Ft.a),a.a.createElement(q.a,null,_t()(t).fromNow())},zt=n(252),At=n.n(zt),qt=function(e){return e.charAt(0).toUpperCase()+e.charAt(1).toUpperCase()};function Mt(){var e=Ne().vendor,t=a.a.useState(void 0),n=i()(t,2),r=n[0],o=n[1],c=a.a.useState(void 0),s=i()(c,2),l=s[0],u=s[1];return a.a.useMemo((function(){e&&(e.image?e.image.thumbnail?o(e.image.thumbnail):o(e.image.full_size):o($),u(qt(e.name)))}),[e]),{vendorIcon:r,vendorInitials:l}}function Gt(e){var t=a.a.useState(void 0),n=i()(t,2),r=n[0],o=n[1],c=a.a.useState(void 0),s=i()(c,2),l=s[0],u=s[1];return a.a.useMemo((function(){e?(e.thumbnail?u(e.thumbnail):e.full_size&&u(e.full_size),e.full_size?o(e.full_size):o(Q)):(u($),o(Q))}),[e]),{productImage:r,productThumbnail:l}}function Lt(e){var t=a.a.useState(void 0),n=i()(t,2),r=n[0],o=n[1];return a.a.useMemo((function(){e?e.thumbnail?o(e.thumbnail):e.full_size&&o(e.full_size):o($)}),[e]),{avatarImage:r}}var Ut=function(e){var t=e.product,n=e.onPress,r=e.makeOffer,o=e.acceptOffer,c=e.declineOffer,i=e.makePurchase,s=(e.addToFaves,e.removeFromFaves,e.updateProduct),l=Object(z.b)(),u=N()(l.colors.text).alpha(.54).rgb().string(),d=(N()(l.colors.text).alpha(.8).rgb().string(),N()(l.colors.text).alpha(.15).rgb().string()),m=Me().accessToken,p=Ne(),f=p.vendor,g=p.addVendorFavorite,h=p.removeVendorFavorite,y=Mt(),b=(y.vendorIcon,y.vendorInitials,Gt(t.image)),v=b.productImage,E=(b.productThumbnail,Lt(t.vendor.image).avatarImage),S=qt(t.vendor.name),O=null==f?void 0:f.favorites.some((function(e){return e.id===t.id})),P=null==f?void 0:f.products.some((function(e){return e.id===t.id})),w=null==f?void 0:f.order_requests.some((function(e){return e.vendor.id===f.id&&"OFFERED"===e.status})),x=null==f?void 0:f.order_requests.some((function(e){return e.vendor.id===f.id&&"PROCESSING"===e.status})),T=null==f?void 0:f.orders_made.some((function(e){return e.buyer.id===f.id&&"OFFERED"===e.status})),k=null==f?void 0:f.orders_made.some((function(e){return e.buyer.id===f.id&&"PROCESSING"===e.status}));return a.a.createElement(ht.a,{onPress:function(){return n?n(t.slug):{}}},a.a.createElement(xt.a,{style:Bt.container},a.a.createElement(R.a,{style:Bt.leftColumn},a.a.createElement(R.a,null,E?a.a.createElement(Be.a,{size:60,style:{marginRight:10},source:{uri:E}}):a.a.createElement(Ct.a,{size:60,style:{marginRight:10},label:S}),a.a.createElement(It.a,{size:10,style:{position:"absolute",bottom:0,right:4,backgroundColor:t.vendor.online?l.colors.accent:l.colors.disabled}}))),a.a.createElement(R.a,{style:Bt.rightColumn},a.a.createElement(R.a,{style:Bt.topRow},a.a.createElement(Tt.a,null,t.title),t.vendor.product_count>0&&a.a.createElement(R.a,{style:Bt.iconContainer},a.a.createElement(We.a,{name:"package-variant-closed",size:14,color:u}),a.a.createElement(kt.a,{style:Bt.iconDescription},t.vendor.product_count,""," products")),t.vendor.order_count>0&&a.a.createElement(R.a,{style:Bt.iconContainer},a.a.createElement(We.a,{name:"currency-usd-off",size:14,color:u}),a.a.createElement(kt.a,{style:Bt.iconDescription},t.vendor.order_count,""," transactions")),a.a.createElement(kt.a,{style:Bt.handle},t.price),a.a.createElement(kt.a,null,t.condition),!t.is_available&&a.a.createElement(Dt.a,{mode:"flat",style:{backgroundColor:l.colors.error}},"SOLD")),a.a.createElement(Xe.a,{source:{uri:v},style:[Bt.image,{borderColor:d}]}),a.a.createElement(R.a,{style:Bt.bottomRow},t.is_available&&a.a.createElement(a.a.Fragment,null,a.a.createElement(ot.a,{onPress:function(){},hitSlop:{top:10,bottom:10}},a.a.createElement(R.a,{style:Bt.iconContainer},a.a.createElement(jt.a,{icon:"cash-multiple",color:l.colors.primary,size:20,disabled:P,onPress:function(){return w?o&&o(t.id.toString()):T?console.log("this is already in your purchased"):r&&r(t.id.toString())}}),a.a.createElement(kt.a,{style:Bt.iconDescription},w?"Accept Offer":T?"In Your Cart":"Offer"))),a.a.createElement(R.a,{style:Bt.iconContainer},a.a.createElement(jt.a,{icon:"cash-100",color:l.colors.primary,disabled:P||x,size:20,onPress:function(){return k||P?w&&!T?c&&c(t.id.toString()):{}:i&&i(t.id.toString())}}),a.a.createElement(q.a,{style:Bt.iconDescription},x&&!k?"Your Sale":w&&!T?"Decline Offer":"Purchase"))),a.a.createElement(R.a,{style:Bt.iconContainer},a.a.createElement(We.a,{name:"share-outline",size:14,color:u}),a.a.createElement(kt.a,{style:Bt.iconDescription},t.is_available?"posted":"sold"," ",a.a.createElement(Vt,{date:t.is_available?t.created_at:t.updated_at}))),P&&a.a.createElement(ot.a,{onPress:function(){return s?s(t.slug):{}},hitSlop:{top:10,bottom:10}},a.a.createElement(R.a,{style:Bt.iconContainer},a.a.createElement(We.a,{name:"cash-100",size:12,color:l.colors.primary}),a.a.createElement(kt.a,{style:Bt.iconDescription},"Update Product"))),a.a.createElement(ot.a,{onPress:function(){return O?h(t.id.toString(),m||""):g(t.id.toString(),m||"")},hitSlop:{top:10,bottom:10}},a.a.createElement(R.a,{style:Bt.iconContainer},a.a.createElement(We.a,{name:O?"heart":"heart-outline",size:12,color:O?l.colors.error:l.colors.text}),a.a.createElement(kt.a,{style:Bt.iconDescription},O?"Remove from Favorites":"Add to Favorites")))))))},Bt=F.a.create({container:{flexDirection:"row",paddingTop:15,paddingRight:15},leftColumn:{width:100,alignItems:"center"},rightColumn:{flex:1},topRow:{flexDirection:"row",alignItems:"baseline",justifyContent:"space-between"},handle:{marginRight:3},dot:{fontSize:3},image:{borderWidth:F.a.hairlineWidth,marginTop:10,borderRadius:20,width:"100%",height:150},bottomRow:{paddingVertical:10,flexDirection:"row",alignItems:"center",justifyContent:"space-between"},iconContainer:{flexDirection:"row",alignItems:"center"},iconDescription:{marginLeft:2,lineHeight:12},button:{marginTop:20},badge:{position:"absolute",bottom:0,right:4}});function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jt(){return a.a.createElement(R.a,{style:{height:F.a.hairlineWidth}})}var Kt=function(e){var t=e.navigation,n=Object(z.b)(),r=ke(),o=r.products;return r.loading?a.a.createElement(Ze.a,null):a.a.createElement(wt.a,{contentContainerStyle:{backgroundColor:n.colors.background},style:{backgroundColor:n.colors.background},data:o&&o.map((function(e){return Ht(Ht({},e),{},{onPress:function(){return t&&t.navigate("ProductDetails",Ht({},e))},makeOffer:function(){return t&&t.navigate("MakeOffer",Ht({product:e},e))},updateProduct:function(){return t&&t.navigate("UpdateProduct",Ht({product:e},e))}})})),renderItem:function(e){var t=e.item;return a.a.createElement(Ut,bt()({},t,{product:t}))},keyExtractor:function(e){return e.id.toString()},ItemSeparatorComponent:Jt})},Yt=n(78);function Xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Zt=function(e){var t=e.product,n=e.navigation,r=(e.makeOffer,e.makePurchase),o=(e.addToFaves,Object(z.b)()),c=Ne(),i=c.vendorId,s=c.vendor,l=Mt(),u=l.vendorIcon,d=l.vendorInitials,m=Gt(t.image),p=m.productImage,g=(m.productThumbnail,Lt(t.vendor.image).avatarImage),h=qt(t.vendor.name),y=(null==s||s.favorites.some((function(e){return e.id===t.id})),N()(o.colors.text).alpha(.8).rgb().string()),b=N()(o.colors.text).alpha(.15).rgb().string(),v=N()(o.colors.text).alpha(.54).rgb().string();return a.a.createElement(xt.a,{style:$t.container},a.a.createElement(R.a,{style:$t.topRow},a.a.createElement(Be.a,{style:$t.avatar,source:{uri:g},size:60}),a.a.createElement(R.a,null,a.a.createElement(Tt.a,null,t.title),a.a.createElement(kt.a,{style:$t.handle},t.vendor.name))),a.a.createElement(Yt.a,{style:[$t.content,{color:y}]},t.description),a.a.createElement(Xe.a,{source:{uri:p},style:[$t.image,{borderColor:b}]}),a.a.createElement(q.a,{style:{marginBottom:10}},t.condition),a.a.createElement(q.a,{style:{marginBottom:10}},t.price),a.a.createElement(q.a,{style:{marginBottom:10}},t.price),a.a.createElement(q.a,{style:{marginBottom:10}},t.is_available?"Posted":"Sold",a.a.createElement(Vt,{date:t.is_available?t.created_at:t.updated_at})),a.a.createElement(R.a,{style:$t.bottomRow},t.is_available&&a.a.createElement(a.a.Fragment,null,a.a.createElement(ot.a,{onPress:function(){},hitSlop:{top:10,bottom:10}},a.a.createElement(R.a,{style:$t.iconContainer},a.a.createElement(nt.a,{mode:"text",uppercase:!0,color:o.colors.primary,onPress:function(){return r?r(t.id.toString()):{}}},"Purchase"))),a.a.createElement(R.a,{style:$t.iconContainer},a.a.createElement(nt.a,{mode:"text",uppercase:!0,color:o.colors.primary,onPress:function(){console.log("product",t),n&&n.replace("MakeOffer",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xt(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({product:t},t))}},"Offer")))),t.product_images&&t.product_images.length>0&&a.a.createElement(a.a.Fragment,null,a.a.createElement(R.a,{style:{height:F.a.hairlineWidth}}),a.a.createElement(R.a,{style:$t.bottomRow},a.a.createElement(R.a,null,a.a.createElement(Tt.a,null,"Product Images"),a.a.createElement(kt.a,{style:$t.handle},t.vendor.name)),t.product_images.map((function(e){return a.a.createElement(ot.a,{onPress:function(){},hitSlop:{top:10,bottom:10}},a.a.createElement(Be.a,{style:{marginRight:10},source:{uri:e.image.thumbnail?e.image.thumbnail:e.image.full_size?e.image.full_size:Q},size:40}))})))),t.similar_products&&t.similar_products.length>0&&a.a.createElement(a.a.Fragment,null,a.a.createElement(R.a,{style:{height:F.a.hairlineWidth}}),";",a.a.createElement(Tt.a,null,"Related Products"),a.a.createElement(kt.a,{style:$t.handle},t.category),t.similar_products.map((function(e){return a.a.createElement(R.a,{style:$t.bottomRow},a.a.createElement(Tt.a,null,e.title),e.id.toString()===i?a.a.createElement(kt.a,{style:$t.handle},"Your Product"):a.a.createElement(kt.a,{style:$t.handle},e.vendor),a.a.createElement(ot.a,{onPress:function(){},hitSlop:{top:10,bottom:10}},a.a.createElement(Be.a,{style:{marginRight:10},source:{uri:e.image.thumbnail?e.image.thumbnail:e.image.full_size?e.image.full_size:Q},size:40})))}))),a.a.createElement(R.a,{style:$t.footerRow},a.a.createElement(ot.a,{style:{marginLeft:10},onPress:function(){}},a.a.createElement(R.a,null,t.id.toString()===i?u?a.a.createElement(Be.a,{size:40,style:{marginRight:10},source:{uri:u}}):d?a.a.createElement(Ct.a,{size:40,style:{marginRight:10},label:d}):a.a.createElement(Be.a,{size:40,style:{marginRight:10},source:{uri:$}}):g?a.a.createElement(Be.a,{size:40,style:{marginRight:10},source:{uri:u}}):a.a.createElement(Ct.a,{size:40,style:{marginRight:10},label:h}),a.a.createElement(It.a,{style:{position:"absolute",bottom:0,right:4,backgroundColor:t.vendor.online?o.colors.accent:o.colors.disabled}}))),a.a.createElement(Tt.a,null,t.vendor.name),t.vendor.product_count>0&&a.a.createElement(R.a,{style:$t.iconContainer},a.a.createElement(We.a,{name:"package-variant-closed",size:14,color:v}),a.a.createElement(kt.a,{style:$t.iconDescription},t.vendor.product_count,""," products")),t.vendor.order_count>0&&a.a.createElement(R.a,{style:$t.iconContainer},a.a.createElement(We.a,{name:"currency-usd-off",size:14,color:v}),a.a.createElement(kt.a,{style:$t.iconDescription},t.vendor.order_count,""," transactions"))))},$t=F.a.create({container:{flex:1,padding:20},avatar:{marginRight:20},topRow:{flexDirection:"row",alignItems:"center"},handle:{marginRight:3,lineHeight:12},content:{marginTop:25,fontSize:20,lineHeight:30},image:{borderWidth:F.a.hairlineWidth,marginTop:25,borderRadius:20,width:"100%",height:280},thumbnail:{borderWidth:F.a.hairlineWidth,marginTop:25,borderRadius:10,width:"25%",height:140},bottomRow:{flexDirection:"row",alignItems:"center",marginBottom:10},footerRow:{flexDirection:"row",alignItems:"center",marginBottom:10},iconContainer:{flexDirection:"row",alignItems:"center"},iconDescription:{marginLeft:2,lineHeight:12}});function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var en=function(e){var t=e.route,n=e.navigation,r=function(e){return n&&n.navigate("MakeOffer",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({product:e},e))};return console.log("is this whats making it work"),a.a.createElement(Zt,bt()({},t.params,{product:t.params,navigation:n,makeOffer:function(){return r}}))},tn=n(119),nn=n(90),rn=function(e){var t=e.product,n=e.navigation,r=e.route,o=e.productId,c=e.sellerId,s=Ne(),u=s.vendorId,d=s.vendor,m=s.loadVendorData,p=Me().accessToken,f=a.a.useState(""),g=i()(f,2),h=g[0],y=g[1],b=a.a.useState(void 0),v=i()(b,2),E=v[0],S=v[1],O=Object(z.b)(),P=G(2,O.colors.surface),w=t.product.price,x=Object(ct.d)({defaultValues:{product:t.product.id.toString(),amount:h,buyer:u,vendor:t.product.vendor.id.toString()},mode:"onChange",criteriaMode:"all"}),k=x.control,C=x.setFocus,I=x.formState,j=I.errors,D=(I.isDirty,I.isSubmitted,I.isSubmitting),_=I.isValidating,N=x.handleSubmit;console.log("MakeOfferScreen: price from props",t.product.price),console.log("MakeOfferScreen: buyer from context",u),console.log("MakeOfferScreen: buyer from context reducer",null==d?void 0:d.id),console.log("MakeOfferScreen: seller from props declared",c),console.log("MakeOfferScreen: seller from props param extracted",t.product.vendor.id),console.log("MakeOfferScreen: productid from props declared",o),console.log("MakeOfferScreen: product id from props extracted",t.product.id),console.log("MakeOfferScreen: the product object from props",t),console.log("MakeOfferScreen: the route object from props",r),console.log("MakeOfferScreen: the navigation object from props",n);var F=Boolean(h);return a.a.useEffect((function(){return n&&n.addListener("beforeRemove",(function(e){F&&(e.preventDefault(),"web"===T.a.OS?confirm("You have unsaved changes. Discard them and leave the screen?")&&n.dispatch(e.data.action):tn.a.alert("Discard changes?","You have unsaved changes. Discard them and leave the screen?",[{text:"Don't leave",style:"cancel",onPress:function(){}},{text:"Discard",style:"destructive",onPress:function(){return n.dispatch(e.data.action)}}]))}))}),[F,n]),a.a.createElement(Ot.a,{style:{backgroundColor:P},contentContainerStyle:[an.scrollViewContent,{backgroundColor:P}]},a.a.createElement($e,{loading:D||_}),a.a.createElement(et,null,"Offer"),a.a.createElement(kt.a,{style:an.centerText},"You're about to make an offer for ",t.product.title,". If the seller accepts, the item will be marked as sold."),a.a.createElement(nn.a,{style:an.centerText},"Original Price"),a.a.createElement(Yt.a,{style:an.centerText},t.product.price),a.a.createElement(kt.a,{style:an.centerText},E),a.a.createElement(lt.a,{errors:j,name:"amount",render:function(e){var t=e.messages;return console.log("messages",t),t&&st.a.entries(t).map((function(e){var t=i()(e,2),n=t[0],r=t[1];return a.a.createElement(kt.a,{style:[an.centerText,{color:O.colors.error}],key:n},r)}))}}),a.a.createElement(a.a.Fragment,null,a.a.createElement(R.a,{style:an.container},a.a.createElement(ut.a,{control:k,setFocus:C,formConfigArray:[{name:"product",type:"text",textInputProps:{label:"Product",left:a.a.createElement(dt.a.Icon,{name:"account"}),disabled:!0,style:{display:"none"},placeholder:t.product.title},rules:{required:{value:!0,message:"Product is required"}}},{name:"amount",type:"text",textInputProps:{label:"Your Offer Amount",left:a.a.createElement(dt.a.Icon,{name:"lock"}),underlineColor:"transparent",mode:"outlined",textContentType:"none",returnKeyType:"next",keyboardType:"numeric",value:h,onChangeText:function(e){return y(e)}},rules:{required:{value:!0,message:"Amount is required"},validate:{positive:function(e){return parseInt(e)>0||"should be greater than 0"},lessThanPrice:function(e){return parseInt(e)<=w||"should not be more than product price"}},pattern:{value:/^\-?[0-9]+(?:\.[0-9]{1,2})?/,message:"Amount is invalid"},minLength:{value:3,message:"The Amount must be a valid decimal field."},maxLength:{value:8,message:"The Amount must be between 0 and 999,999.99"}}},{name:"buyer",type:"text",textInputProps:{label:"Buyer",left:a.a.createElement(dt.a.Icon,{name:"account"}),disabled:!0,placeholder:null==d?void 0:d.name,style:{display:"none"}},rules:{required:{value:!0,message:"Buyer is required"}}},{name:"vendor",type:"text",textInputProps:{label:"Vendor",left:a.a.createElement(dt.a.Icon,{name:"account"}),disabled:!0,placeholder:t.product.vendor.name,style:{display:"none"}},rules:{required:{value:!0,message:"Vendor is required"}}}]})),a.a.createElement(nt.a,{mode:"contained",labelStyle:an.text,style:[an.button,{marginTop:24}],onPress:N((function(e,t){return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("MakeOfferScreen: ValidSubmitData =>",e,t),r.next=3,l.a.awrap(he(e.product,e.buyer,e.amount,p).then((function(t){t.ok&&(t.json().then((function(e){S(e.status)})),console.log("MakeOfferScreen: dispatching response buyer id",e.buyer),m(e.buyer),setTimeout((function(){n&&n.replace("Products")}),1720))})));case 3:case"end":return r.stop()}}),null,null,null,Promise)}),(function(e,t){console.log("MakeOfferScreen: ErrorSubmitData =>",e,t),n&&n.reset({index:0,routes:[{name:"Products"}]})}))},"Offer")),a.a.createElement(nt.a,{mode:"outlined",labelStyle:an.text,style:[an.button,{backgroundColor:O.colors.surface}],onPress:function(){return n&&n.goBack()}},"Cancel"))},an=F.a.create({scrollViewContent:{flex:1,paddingHorizontal:30,justifyContent:"center",alignItems:"center"},centerText:{textAlign:"center"},button:{width:"100%",marginVertical:10,paddingVertical:2},text:{fontWeight:"bold",fontSize:15,lineHeight:26},container:{width:"100%",marginVertical:12}}),on=function(e){var t=e.route,n=e.navigation;return a.a.createElement(rn,bt()({},t.params,{product:t.params,navigation:n}))},cn=function(e){var t=e.product,n=e.navigation,r=e.route,o=Ne(),c=o.vendorId,s=o.vendor,u=o.loadVendorData,d=Me().accessToken,m=a.a.useState(!1),p=i()(m,2),f=p[0],g=p[1],h=a.a.useState(""),y=i()(h,2),b=(y[0],y[1],a.a.useState("")),v=i()(b,2),E=v[0],S=v[1],O=a.a.useState(void 0),P=i()(O,2),w=P[0],x=P[1],T=Object(z.b)(),k=G(2,T.colors.surface),C=Object(ct.d)({defaultValues:{full_name:"",email:"",phone_number:"",country:"",zipcode:"",town_or_city:"",street_address1:"",street_address2:"",county:"",stripe_pid:"",order:E},mode:"onChange",criteriaMode:"all"}),I=C.control,j=C.setFocus,D=C.formState,_=(D.errors,D.isDirty,D.isSubmitted,D.isSubmitting),N=D.isValidating,F=C.handleSubmit,V=function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(ge(t.product.id.toString(),c||"",d).then((function(e){e.ok&&(e.json().then((function(e){x(e.status),S(e.id),console.log("MakePurchase: Response order id",e.id)})),console.log("MakePurchase: dispatching response buyer id",c),c&&u(c),setTimeout((function(){g(!0)}),750))})));case 2:case"end":return e.stop()}}),null,null,null,Promise)};return console.log("MakePurchase: price from props",t.product.price),console.log("MakePurchase: buyer from context",c),console.log("MakePurchase: buyer from context reducer",null==s?void 0:s.id),console.log("MakePurchase: seller from props param extracted",t.product.vendor.id),console.log("MakePurchase: product id from props extracted",t.product.id),console.log("MakePurchase: the product object from props",t),console.log("MakePurchase: the route object from props",r),console.log("MakePurchase: the navigation object from props",n),a.a.createElement(Ot.a,{style:{backgroundColor:k},contentContainerStyle:[sn.scrollViewContent,{backgroundColor:k}]},a.a.createElement($e,{loading:_||N}),a.a.createElement(et,null,f?"Order Details":"Purchase"),f?a.a.createElement(a.a.Fragment,null,a.a.createElement(kt.a,{style:sn.centerText},"Fill out your details to receive ",t.product.title,"."),a.a.createElement(nn.a,{style:sn.centerText},"Total Amount"),a.a.createElement(Yt.a,{style:sn.centerText},t.product.price)):a.a.createElement(a.a.Fragment,null,a.a.createElement(kt.a,{style:sn.centerText},"You're about to purchase ",t.product.title,". You will be led to the order detail form upon hitting confirm."),a.a.createElement(nn.a,{style:sn.centerText},"Total Amount"),a.a.createElement(Yt.a,{style:sn.centerText},t.product.price)),a.a.createElement(kt.a,{style:sn.centerText},w),f?a.a.createElement(a.a.Fragment,null,a.a.createElement(R.a,{style:sn.container},a.a.createElement(ut.a,{control:I,setFocus:j,formConfigArray:[{name:"full_name",type:"text",textInputProps:{label:"Full Name",left:a.a.createElement(dt.a.Icon,{name:"account"}),underlineColor:"transparent",mode:"outlined",textContentType:"name",returnKeyType:"next",keyboardType:"default"},rules:{required:{value:!0,message:"Full name is required"}}},{name:"email",type:"text",textInputProps:{label:"Email",left:a.a.createElement(dt.a.Icon,{name:"lock"}),underlineColor:"transparent",mode:"outlined",textContentType:"emailAddress",returnKeyType:"next",keyboardType:"email-address"},rules:{required:{value:!0,message:"Email is required"},pattern:{value:/\S+@\S+\.\S+/,message:"Email is invalid"}}},{name:"phone_number",type:"text",textInputProps:{label:"Phone Number",left:a.a.createElement(dt.a.Icon,{name:"account"}),underlineColor:"transparent",mode:"outlined",textContentType:"telephoneNumber",returnKeyType:"next",keyboardType:"number-pad"},rules:{required:{value:!0,message:"Phone number is required"}}},{name:"street_address1",type:"text",textInputProps:{label:"Street Address 1",left:a.a.createElement(dt.a.Icon,{name:"account"}),underlineColor:"transparent",mode:"outlined",textContentType:"streetAddressLine1",returnKeyType:"next",keyboardType:"default"},rules:{required:{value:!0,message:"Street address is required"}}},{name:"street_address2",type:"text",textInputProps:{label:"Street Address 2",left:a.a.createElement(dt.a.Icon,{name:"account"}),underlineColor:"transparent",mode:"outlined",textContentType:"streetAddressLine2",returnKeyType:"next",keyboardType:"default"}},{name:"county",type:"text",textInputProps:{label:"County",left:a.a.createElement(dt.a.Icon,{name:"account"}),underlineColor:"transparent",mode:"outlined",textContentType:"sublocality",returnKeyType:"next",keyboardType:"default"}},{name:"town_or_city",type:"text",textInputProps:{label:"Town or City",left:a.a.createElement(dt.a.Icon,{name:"account"}),underlineColor:"transparent",mode:"outlined",textContentType:"addressCity",returnKeyType:"next",keyboardType:"default"},rules:{required:{value:!0,message:"Town or City is required"}}},{name:"country",type:"select",textInputProps:{label:"Town or City",left:a.a.createElement(dt.a.Icon,{name:"account"}),underlineColor:"transparent",mode:"outlined",textContentType:"countryName",returnKeyType:"next",keyboardType:"default"},rules:{required:{value:!0,message:"Country is Required"}},options:[{label:"Afganistan",value:"AF"},{label:"Denmark",value:"DM"},{label:"Philippines",value:"PH"}]}]})),a.a.createElement(nt.a,{mode:"contained",labelStyle:sn.text,style:[sn.button,{marginTop:24}],onPress:F((function(e,t){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("MakeOfferScreen: ValidSubmitData =>",e,t),n.next=3,l.a.awrap(Ee(d,e.order,e.full_name,e.email,e.phone_number,e.country,e.town_or_city,e.street_address1,e.street_address2,e.county,e.stripe_pid,e.zipcode).then((function(e){e.ok&&(e.json().then((function(e){console.log("MakePurchase: success",e)})),console.log("MakePurchase: reloading vendor data"),c&&u(c))})));case 3:case"end":return n.stop()}}),null,null,null,Promise)}),(function(e,t){console.log("MakeOfferScreen: ErrorSubmitData =>",e,t),x("ERROR")}))},"Submit Defails")):a.a.createElement(nt.a,{mode:"contained",labelStyle:sn.text,style:[sn.button,{marginTop:24}],onPress:function(){return V}},"Confirm Purchase"),a.a.createElement(nt.a,{mode:"outlined",labelStyle:sn.text,style:[sn.button,{backgroundColor:T.colors.surface}],onPress:function(){return n&&n.goBack()}},"Cancel"))},sn=F.a.create({scrollViewContent:{flex:1,paddingHorizontal:30,justifyContent:"center",alignItems:"center"},centerText:{textAlign:"center"},button:{width:"100%",marginVertical:10,paddingVertical:2},text:{fontWeight:"bold",fontSize:15,lineHeight:26},container:{width:"100%",marginVertical:12}}),ln=function(e){var t=e.route,n=e.navigation;return a.a.createElement(cn,bt()({},t.params,{product:t.params,navigation:n}))},un=[{label:"Mint",value:5},{label:"New",value:4},{label:"Good",value:3},{label:"Fair",value:2},{label:"Damaged",value:1}],dn=function(e){var t=e.product,n=e.navigation,r=(e.route,Ne().updateProduct),o=ke().categoryOptions,c=Me().accessToken,s=Object(z.b)(),u=G(2,s.colors.surface),d=a.a.useState(t.product.title),m=i()(d,2),p=m[0],f=m[1],g=a.a.useState(t.product.category.id.toString()),h=i()(g,2),y=h[0],b=h[1],v=a.a.useState(t.product.description),E=i()(v,2),S=E[0],O=E[1],P=a.a.useState(t.product.price.toString()),w=i()(P,2),x=w[0],k=w[1],C=a.a.useState(t.product.condition),I=i()(C,2),j=I[0],D=(I[1],a.a.useState(void 0)),_=i()(D,2),N=(_[0],_[1],a.a.useState(void 0)),F=i()(N,2),V=F[0],A=(F[1],Object(ct.d)({defaultValues:{title:t.product.title,category:t.product.category.id.toString(),description:t.product.description,price:t.product.price.toString(),condition:t.product.condition,images:V},mode:"onChange",criteriaMode:"all"})),q=A.control,M=A.setFocus,L=A.formState,U=(L.errors,L.isDirty,L.isSubmitted,L.isSubmitting),B=L.isValidating,W=A.handleSubmit,H=function(e,n){return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("EditProduct: ValidSubmitData =>",e,n),a.next=3,l.a.awrap(r(t.product.slug,e.title,e.category,e.description,e.price,e.condition,null!=c?c:"").then((function(e){return console.log(e)})));case 3:case"end":return a.stop()}}),null,null,null,Promise)},J=function(e,t){console.log("EditProduct: ErrorSubmitData =>",e,t),n&&n.reset({index:0,routes:[{name:"Products"}]})},K=Boolean(p||S||y||x||j);return a.a.useEffect((function(){return n&&n.addListener("beforeRemove",(function(e){K&&(e.preventDefault(),"web"===T.a.OS?confirm("You have unsaved changes. Discard them and leave the screen?")&&n.dispatch(e.data.action):tn.a.alert("Discard changes?","You have unsaved changes. Discard them and leave the screen?",[{text:"Don't leave",style:"cancel",onPress:function(){}},{text:"Discard",style:"destructive",onPress:function(){return n.dispatch(e.data.action)}}]))}))}),[K,n]),a.a.createElement(Ot.a,{style:{backgroundColor:u},contentContainerStyle:[mn.scrollViewContent,{backgroundColor:u}]},a.a.createElement($e,{loading:U||B}),a.a.createElement(et,null,"Update Product"),a.a.createElement(kt.a,{style:mn.centerText},"You're about update ",t.product.title,". You can continue to update details so long as the product is not yet sold!"),a.a.createElement(nn.a,{style:mn.centerText},t.product.title),a.a.createElement(Yt.a,{style:mn.centerText},t.product.is_available?"Available":"Sold"),a.a.createElement(a.a.Fragment,null,a.a.createElement(R.a,{style:mn.container},a.a.createElement(ut.a,{control:q,setFocus:M,formConfigArray:[{name:"title",type:"text",textInputProps:{label:"Title",left:a.a.createElement(dt.a.Icon,{name:"account"}),underlineColor:"transparent",mode:"outlined",textContentType:"none",returnKeyType:"next",keyboardType:"default",blurOnSubmit:!1,value:p,onChangeText:function(e){return f(e)},onSubmitEditing:function(){return M("description")}},rules:{required:{value:!0,message:"Title is required"},maxLength:{value:255,message:"Title should be less than 255 characters."}}},{name:"description",type:"text",textInputProps:{label:"Description",left:a.a.createElement(dt.a.Icon,{name:"email"}),multiline:!0,underlineColor:"transparent",mode:"outlined",textContentType:"none",returnKeyType:"next",keyboardType:"default",blurOnSubmit:!1,value:S,onChangeText:function(e){return O(e)},onSubmitEditing:function(){return M("price")}},rules:{required:{value:!1,message:"Description is optional"}}},{name:"price",type:"text",textInputProps:{label:"Price",left:a.a.createElement(dt.a.Icon,{name:"lock"}),underlineColor:"transparent",mode:"outlined",textContentType:"none",returnKeyType:"next",keyboardType:"numeric",blurOnSubmit:!1,value:x,onChangeText:function(e){return k(e)},onSubmitEditing:function(){return M("condition")}},rules:{required:{value:!0,message:"Price is required"},pattern:{value:/^\-?[0-9]+(?:\.[0-9]{1,2})?/,message:"Price is invalid"},minLength:{value:3,message:"The price must be a valid decimal field."},maxLength:{value:8,message:"The price must be between 0 and 999,999.99"}}},{name:"condition",type:"autocomplete",textInputProps:{label:"Condition",left:a.a.createElement(dt.a.Icon,{name:"office-building"}),underlineColor:"transparent",mode:"outlined",returnKeyType:"next",keyboardType:"default",blurOnSubmit:!1,value:j,onChange:function(e){return O(e.toString())},onSubmitEditing:function(){return M("category")}},rules:{required:{value:!0,message:"Condition is required"}},options:un},{name:"category",type:"select",textInputProps:{label:"Category",left:a.a.createElement(dt.a.Icon,{color:s.colors.primary,name:"account"}),underlineColor:"transparent",mode:"outlined",returnKeyType:"next",keyboardType:"default",blurOnSubmit:!1,value:y,onChange:function(e){return b(e.toString())},onSubmitEditing:function(){return W(H,J)}},rules:{required:{value:!0,message:"Category is required"}},onDismiss:function(){return M("price")},options:o}]})),a.a.createElement(nt.a,{mode:"contained",labelStyle:mn.text,style:[mn.button,{marginTop:24}],onPress:W(H,J)},"Update")),a.a.createElement(nt.a,{mode:"outlined",labelStyle:mn.text,style:[mn.button,{backgroundColor:s.colors.surface}],onPress:function(){return n&&n.goBack()}},"Cancel"))},mn=F.a.create({scrollViewContent:{flex:1,paddingHorizontal:30,justifyContent:"center",alignItems:"center"},centerText:{textAlign:"center"},button:{width:"100%",marginVertical:10,paddingVertical:2},text:{fontWeight:"bold",fontSize:15,lineHeight:26},container:{width:"100%",marginVertical:12}}),pn=function(e){var t=e.route,n=e.navigation;return a.a.createElement(dn,bt()({},t.params,{product:t.params,navigation:n}))},fn=n(48),gn=n(166),hn=function(e){var t=e,n=Object(z.b)(),r=Ne(),o=r.vendor,c=r.vendorId,i=N()(n.colors.text).alpha(.8).rgb().string();return a.a.createElement(xt.a,{style:yn.container},a.a.createElement(R.a,{style:yn.leftColumn},a.a.createElement(We.a,{name:"currency-usd-off",size:30,color:"#8d38e8"})),a.a.createElement(R.a,{style:yn.rightColumn},a.a.createElement(R.a,{style:yn.topRow},t.product.image&&a.a.createElement(Be.a,{source:{uri:t.product.image.thumbnail},size:60})),a.a.createElement(Tt.a,null,"Status"),a.a.createElement(Yt.a,{style:{marginBottom:10}},t.status),a.a.createElement(Tt.a,null,"Product"),a.a.createElement(tt.a,null,t.product.title?t.product.title:t.product.toString()),a.a.createElement(Tt.a,null,"Seller"),a.a.createElement(tt.a,null,t.vendor.name?t.vendor.name.toLowerCase().replace(/^.| ./g,At.a.toUpper):o&&t.vendor.toString()===c?o.name:t.vendor.toString()),a.a.createElement(nt.a,{mode:"text",uppercase:!0,color:n.colors.primary,onPress:function(){return console.log("Pressed")}},"View"),a.a.createElement(kt.a,{style:{color:i}},t.updated_at||t.created_at&&a.a.createElement(Vt,{date:t.updated_at||t.created_at}))))},yn=F.a.create({container:{flexDirection:"row",paddingTop:15,paddingRight:15,paddingBottom:15},leftColumn:{width:100,marginRight:10,alignItems:"center"},rightColumn:{flex:1},topRow:{flexDirection:"row",alignItems:"center",marginBottom:10}});function bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var En=function(e){var t=Object(z.b)(),n=Ne(),r=n.vendor;return n.loading||!r?a.a.createElement(Ze.a,null):r&&r.orders_made.length<1?a.a.createElement(q.a,null," You haven't purchased anything yet! "):a.a.createElement(wt.a,{contentContainerStyle:{backgroundColor:t.colors.background},style:{backgroundColor:t.colors.background},data:r&&r.orders_made&&r.orders_made.map((function(t){return vn(vn({},t),{},{onPress:function(){return e.navigation&&e.navigation.push("OrderDetails",vn({},t))}})})),renderItem:function(e){var t=e.item;return a.a.createElement(hn,t)},keyExtractor:function(e){return e.id.toString()},ItemSeparatorComponent:function(){return a.a.createElement(R.a,{style:{height:F.a.hairlineWidth}})}})};function Sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pn=function(e){var t=Object(z.b)(),n=Ne(),r=n.vendor;return n.loading||!r?a.a.createElement(Ze.a,null):r&&r.order_requests.length<1?a.a.createElement(q.a,null," You haven't sold anything yet!"):a.a.createElement(wt.a,{contentContainerStyle:{backgroundColor:t.colors.background},style:{backgroundColor:t.colors.background},data:r&&r.order_requests&&r.order_requests.map((function(t){return On(On({},t),{},{onPress:function(){return e.navigation&&e.navigation.push("OrderDetails",On({},t))}})})),renderItem:function(e){var t=e.item;return a.a.createElement(hn,t)},keyExtractor:function(e){return e.id.toString()},ItemSeparatorComponent:function(){return a.a.createElement(R.a,{style:{height:F.a.hairlineWidth}})}})},wn={width:fn.a.get("window").width},xn=function(){return a.a.createElement(Pn,null)},Tn=function(){return a.a.createElement(En,null)},kn=function(){var e=a.a.useState(0),t=i()(e,2),n=t[0],r=t[1],o=a.a.useState([{key:"orderRequests",title:"Sales"},{key:"ordersMade",title:"Purchases"}]),c=i()(o,1)[0],s=Object(z.b)(),l=Object(gn.a)({orderRequests:xn,ordersMade:Tn}),u=s.dark?G(4,s.colors.surface):s.colors.surface,d=s.dark?G(4,s.colors.text):s.colors.text,m=s.dark?N()(u).lighten(.5):N()(u).darken(.2);return a.a.createElement(a.a.Fragment,null,a.a.createElement(gn.c,{navigationState:{index:n,routes:c},renderScene:l,onIndexChange:r,initialLayout:wn,renderTabBar:function(e){return a.a.createElement(gn.b,bt()({},e,{indicatorStyle:{backgroundColor:s.colors.primary},style:{color:d,backgroundColor:u,shadowColor:s.colors.text},labelStyle:{color:s.colors.primary},pressColor:m}))}}))},Cn=n(189),In=n(91),jn=n(273);function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _n=function(e){var t=e.navigation,n=Object(z.b)(),r=n.colors.surface,o=Me().accessToken,c=Ne().createProduct,s=ke().categoryOptions,u=a.a.useState(""),d=i()(u,2),m=d[0],p=d[1],f=a.a.useState(""),g=i()(f,2),h=g[0],y=g[1],b=a.a.useState(""),v=i()(b,2),E=v[0],S=v[1],O=a.a.useState(""),P=i()(O,2),w=P[0],x=P[1],k=a.a.useState(""),C=i()(k,2),I=C[0],j=C[1],D=a.a.useState([]),_=i()(D,2),N=(_[0],_[1]),F=a.a.useState(),V=i()(F,2),A=(V[0],V[1],a.a.useState()),M=i()(A,2),G=(M[0],M[1]),L=a.a.useState(void 0),U=i()(L,2),B=U[0],W=U[1],H=Object(ct.d)({defaultValues:{title:"",category:"",description:"",price:"",condition:"",images:[{}]},mode:"onChange",criteriaMode:"all"}),J=H.control,K=H.watch,Y=H.register,X=H.setFocus,Z=H.handleSubmit,$=H.formState,Q=$.errors,ee=$.isSubmitting,te=$.isValidating,ne=Object(ct.c)({control:J,name:"images"}),re=ne.fields,ae=ne.append,oe=ne.remove,ce=K("images"),ie=re.map((function(e,t){return Rn(Rn({},e),ce[t])}));a.a.useEffect((function(){!function(){var e;l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if("web"===T.a.OS){t.next=6;break}return t.next=3,l.a.awrap(Cn.b());case 3:e=t.sent,"granted"!==e.status&&alert("Sorry, we need camera roll permissions to make this work!");case 6:case"end":return t.stop()}}),null,null,null,Promise)}()}),[]);var se=function(e,n){console.log("errors",e,n),t.reset({index:0,routes:[{name:"Products"}]})},le=function(e,t){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:console.log("submit handler",t),console.log("submit handler validatedData",e),c(e.title,e.category,e.description,e.price,e.condition,o||"",B);case 3:case"end":return n.stop()}}),null,null,null,Promise)},ue=Boolean(m||E||h||w||I);return a.a.useEffect((function(){return t&&t.addListener("beforeRemove",(function(e){ue&&(e.preventDefault(),"web"===T.a.OS?confirm("You have unsaved changes. Discard them and leave the screen?")&&t.dispatch(e.data.action):tn.a.alert("Discard changes?","You have unsaved changes. Discard them and leave the screen?",[{text:"Don't leave",style:"cancel",onPress:function(){}},{text:"Discard",style:"destructive",onPress:function(){return t.dispatch(e.data.action)}}]))}))}),[ue,t]),a.a.createElement(Ot.a,{style:{backgroundColor:r},contentContainerStyle:[Nn.scrollViewContent,{backgroundColor:r}]},a.a.createElement($e,{loading:ee||te}),a.a.createElement(nn.a,{style:Nn.centerText},"Sell a Product"),a.a.createElement(kt.a,{style:Nn.centerText},"Pick a Product"),a.a.createElement(a.a.Fragment,null,a.a.createElement(R.a,{style:Nn.container},a.a.createElement(ut.a,{control:J,setFocus:X,formConfigArray:[{name:"title",type:"text",textInputProps:{label:"Title",left:a.a.createElement(dt.a.Icon,{name:"account"}),underlineColor:"transparent",mode:"outlined",textContentType:"none",returnKeyType:"next",keyboardType:"default",value:m,onChangeText:function(e){return p(e)},onSubmitEditing:function(){return X("description")}},rules:{required:{value:!0,message:"Title is required"},maxLength:{value:255,message:"Title should be less than 255 characters."}}},{name:"description",type:"text",textInputProps:{label:"Description",left:a.a.createElement(dt.a.Icon,{name:"email"}),underlineColor:"transparent",mode:"outlined",textContentType:"none",returnKeyType:"next",keyboardType:"default",value:E,onChangeText:function(e){return S(e)},onSubmitEditing:function(){return X("price")}},rules:{required:{value:!1,message:"Description is optional"}}},{name:"price",type:"text",textInputProps:{label:"Price",left:a.a.createElement(dt.a.Icon,{name:"lock"}),underlineColor:"transparent",mode:"outlined",textContentType:"none",returnKeyType:"next",keyboardType:"numeric",value:w,onChangeText:function(e){return x(e)},onSubmitEditing:function(){return X("condition")}},rules:{required:{value:!0,message:"Price is required"},pattern:{value:/^\-?[0-9]+(?:\.[0-9]{1,2})?/,message:"Price is invalid"},minLength:{value:3,message:"The price must be a valid decimal field."},maxLength:{value:8,message:"The price must be between 0 and 999,999.99"}}},{name:"condition",type:"autocomplete",textInputProps:{label:"Condition",left:a.a.createElement(dt.a.Icon,{name:"office-building"}),underlineColor:"transparent",mode:"outlined",returnKeyType:"next",keyboardType:"default",value:I,onChange:function(e){return j(e.toString())},onSubmitEditing:function(){return X("category")}},rules:{required:{value:!0,message:"Condition is required"}},options:un},{name:"category",type:"select",textInputProps:{label:"Category",left:a.a.createElement(dt.a.Icon,{name:"account"}),underlineColor:"transparent",mode:"outlined",returnKeyType:"next",keyboardType:"default",value:h,onChange:function(e){return y(e.toString())},onSubmitEditing:function(){return Z(le,se)}},rules:{required:{value:!0,message:"Category is required"}},options:s},{name:"images",type:"custom",JSX:function(){return ie.map((function(e,t){return a.a.createElement(R.a,{key:e.id,style:{display:"flex",flexDirection:"row"}},a.a.createElement(Xe.a,{source:{uri:e.uri},style:{width:200,height:200}}),a.a.createElement(dt.a,bt()({key:e.id,style:{display:"none"},underlineColor:"transparent",mode:"outlined",value:e.uri,defaultValue:e.name},Y("images."+t+".name"))),a.a.createElement(nt.a,{mode:"outlined",labelStyle:Nn.text,style:[Nn.button,{marginTop:24,backgroundColor:n.colors.surface}],onPress:function(){return oe(t)}},"Remove"))}))}}]})),a.a.createElement(nt.a,{mode:"outlined",labelStyle:Nn.text,style:[Nn.button,{marginTop:24,backgroundColor:n.colors.surface}],onPress:"web"===T.a.OS?function(){var e;return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(jn.a({copyToCacheDirectory:!0,multiple:!0,type:"image/*"}));case 2:e=t.sent,console.log("picked files",e),"success"===e.type&&(console.log(e),G(e),ae(e),e.output&&(W(e.output),console.log("results output",e.output)));case 5:case"end":return t.stop()}}),null,null,null,Promise)}:function(){var e;return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(Cn.a({mediaTypes:In.a.Images,allowsEditing:!1,base64:!1,exif:!0,allowsMultipleSelection:!0,aspect:[4,3],quality:1}));case 2:e=t.sent,console.log("pickImage Results",e),e.cancelled||(console.log("selected results",e.selected.map((function(e){return e.uri.replace("file://","")}))),N(e.selected.map((function(e){return e}))));case 5:case"end":return t.stop()}}),null,null,null,Promise)}},"Upload Images"),a.a.createElement(nt.a,{mode:"contained",labelStyle:Nn.text,style:[Nn.button,{marginTop:24}],onPress:Z(le,se)},"Submit"),Q.title&&a.a.createElement(q.a,null,Q.title.message)))},Nn=F.a.create({scrollViewContent:{flex:1,paddingHorizontal:30,justifyContent:"center",alignItems:"center"},centerText:{textAlign:"center"},button:{width:"100%",marginVertical:10,paddingVertical:2},text:{fontWeight:"bold",fontSize:15,lineHeight:26},container:{width:"100%",marginVertical:12}});function Fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fn(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zn(){return a.a.createElement(R.a,{style:{height:F.a.hairlineWidth}})}var An=function(e){var t=Object(z.b)(),n=Ne(),r=n.vendor;return n.loading?a.a.createElement(Ze.a,null):r&&r.products.length<1?a.a.createElement(k.a,null,"You Haven't saved posted any products yet!"):a.a.createElement(wt.a,{contentContainerStyle:{backgroundColor:t.colors.background},style:{backgroundColor:t.colors.background},data:r&&r.products.map((function(t){return Vn(Vn({},t),{},{onPress:function(){return e.navigation&&e.navigation.push("ProductDetails",Vn({},t))}})})),renderItem:function(e){var t=e.item;return a.a.createElement(Ut,{product:t})},keyExtractor:function(e){return e.id.toString()},ItemSeparatorComponent:zn})};function qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qn(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gn(){return a.a.createElement(R.a,{style:{height:F.a.hairlineWidth}})}var Ln=function(e){var t=Object(z.b)(),n=Ne(),r=n.vendor;return n.loading?a.a.createElement(Ze.a,null):r&&r.favorites.length<1?a.a.createElement(k.a,{style:{color:t.colors.text}},"You Haven't saved any product favorites"):a.a.createElement(wt.a,{contentContainerStyle:{backgroundColor:t.colors.background},style:{backgroundColor:t.colors.background},data:r&&r.favorites.map((function(t){return Mn(Mn({},t),{},{onPress:function(){return e.navigation&&e.navigation.push("ProductDetails",Mn({},t))}})})),renderItem:function(e){var t=e.item;return a.a.createElement(Ut,{product:t})},keyExtractor:function(e){return e.id.toString()},ItemSeparatorComponent:Gn})},Un=n(371),Bn=n(161),Wn=n(267),Hn=Object(Un.a)(),Jn=function(e){var t,n=null!=(t=Object(Le.o)(e.route))?t:"Store",r=(Me().state,Object(z.b)()),c=Object(o.d)(),i=Object(Le.r)(),s="feather";switch(n){case"Products":s="package-variant";break;case"Transactions":s="cash-multiple";break;case"Favorites":s="heart";break;case"MyProducts":case"AddProduct":s="folder-home-outline";break;default:s="feather"}var l=r.dark?G(6,r.colors.surface):r.colors.surface;return a.a.useEffect((function(){console.log("Bottom Tabs: route",e.route)}),[e]),a.a.useEffect((function(){console.log("BottomTab Navigator",Hn)}),[]),console.log("BottomTabs: tabBarColor",l),a.a.createElement(a.a.Fragment,null,a.a.createElement(a.a.Fragment,null,a.a.createElement(Hn.Navigator,{initialRouteName:"Store",backBehavior:"initialRoute",shifting:!0,activeColor:r.colors.primary,inactiveColor:N()(r.colors.text).alpha(.6).rgb().string(),sceneAnimationEnabled:!1,barStyle:{backgroundColor:r.dark?G(6,r.colors.surface):r.colors.surface}},a.a.createElement(Hn.Screen,{name:"Products",component:Kt,options:{tabBarIcon:"package-variant",tabBarColor:l}}),a.a.createElement(Hn.Screen,{name:"Transactions",component:kn,options:{tabBarIcon:"cash-multiple",tabBarColor:l}}),a.a.createElement(Hn.Screen,{name:"Favorites",component:Ln,options:{tabBarIcon:"heart",tabBarColor:l}}),a.a.createElement(Hn.Screen,{name:"MyProducts",component:An,options:{tabBarIcon:"folder-home-outline",tabBarColor:l}}),a.a.createElement(Hn.Screen,{name:"AddProduct",component:_n,options:{tabBarIcon:"folder-home-outline",tabBarColor:l}})),a.a.createElement(Bn.a,null,a.a.createElement(Wn.a,{visible:i,icon:s,style:{position:"absolute",bottom:c.bottom+65,right:16},color:"white",theme:{colors:{accent:r.colors.primary}},onPress:function(){}}))))},Kn=Object(Ge.a)(),Yn=function(){var e=Object(z.b)(),t=Mt(),n=t.vendorInitials,r=t.vendorIcon,o=(Object(St.a)().width,function(){return console.log("Searching")});return a.a.useEffect((function(){console.log("ProductStackNavigator",Kn)}),[]),a.a.createElement(Kn.Navigator,{initialRouteName:"Products",screenOptions:{animationEnabled:!0,header:function(t){var c=t.navigation,i=t.route,s=t.options,l=t.back,u=void 0!==s.headerTitle?s.headerTitle:void 0!==s.title?s.title:i.name;return a.a.createElement(Ue.a.Header,{theme:{colors:{primary:e.colors.surface}}},l?a.a.createElement(Ue.a.BackAction,{onPress:c.goBack,color:e.colors.primary}):a.a.createElement(ot.a,{style:{marginLeft:10},onPress:function(){c.openDrawer()}},r?a.a.createElement(Be.a,{size:40,source:{uri:r}}):n?a.a.createElement(Ct.a,{size:40,label:n}):a.a.createElement(A.a,{size:40,icon:"account"})),a.a.createElement(Ue.a.Content,{title:"Store"===u?a.a.createElement(We.a,{style:{marginRight:10},name:"package-variant-closed",size:40,color:e.colors.primary}):u,titleStyle:{fontSize:18,fontWeight:"bold",color:e.colors.primary}}),a.a.createElement(Ue.a.Action,{icon:function(){return a.a.createElement(We.a,{name:"magnify",size:30,color:e.colors.primary})},onPress:o}))}}},a.a.createElement(Kn.Screen,{name:"Products",component:Jn,options:function(e){var t,n=e.route;return{headerTitle:null!=(t=Object(Le.o)(n))?t:"Store"}}}),a.a.createElement(Kn.Screen,{name:"ProductDetails",component:en,options:{headerTitle:"Product Details"}}),a.a.createElement(Kn.Screen,{name:"MakeOffer",component:on,options:{headerTitle:"Make Offer"}}),a.a.createElement(Kn.Screen,{name:"MakePurchase",component:ln,options:{headerTitle:"Make Purchase"}}),a.a.createElement(Kn.Screen,{name:"UpdateProduct",component:pn,options:{headerTitle:"Update Product"}}))},Xn=n(366),Zn=n(255),$n=n(256),Qn=n(367),er=n(165),tr=n(22);function nr(e){var t=Ne().vendor,n=Me(),r=n.signOut,o=n.isSignedOut,c=Mt(),i=c.vendorIcon,s=c.vendorInitials,l=Object(z.b)(),u=x(),d=u.rtl,m=u.theme,p=(u.isThemeDark,u.toggleRTL),f=u.toggleTheme,g=Object(St.a)().width>=768,h=Object(Xn.a)(),y=tr.a.interpolateNode(h,{inputRange:[0,.5,.7,.8,1],outputRange:[-100,-85,-70,-45,0]}),b=e.state,v=b.routes[b.index].name,E=m.colors.primary,S=N()(m.colors.text).alpha(.6).rgb().string();function O(){var t=e.state.routeNames;console.log("DrawerContent: routes",t);var n=t[t.length-1];return console.log("DrawerContent: route",n),n.length>0?(console.log("DrawerContent: route.length > 0",n.length>0),console.log("DrawerContent: return rout[route.length - 1]",n[n.length-1]),n[n.length-1]):null}console.log("Drawer: state focused route",v),console.log("Drawer: state",e.state),console.log("Drawer: state routes",e.state.routes),console.log("Drawer: state routenames",e.state.routeNames),console.log("Drawer: navigation",e.navigation);var P=function(t,n){var r;if(Object.keys(e.state).length>0&&void 0!=e.state.routes&&(console.log("DrawerContent: navigationWithPush: if props.state.length > 0"),r=O(),console.log("DrawerContent: navigationWithPush: currentRoute = getCurrentRouteName",r),console.log("DrawerContent: navigationWithPush: value of getCurrentRouteName",O())),r===t)console.log("DrawerContent: navigationWithPush: currentRoute === routeName"),console.log("DrawerContent: navigationWithPush: currentroute:",r),console.log("DrawerContent: navigationWithPush: routeName",t),e.navigation.dispatch(Le.c.closeDrawer());else{console.log("DrawerContent: navigationWithPush: currentRoute is not equal to routeName"),console.log("DrawerContent: navigationWithPush: currentroute:",r),console.log("DrawerContent: navigationWithPush: routeName",t);var a=Le.i.push(t,n);e.navigation.closeDrawer(),e.navigation.dispatch(a)}};return a.a.createElement(Zn.a,e,a.a.createElement(tr.a.View,{style:[rr.drawerContent,{backgroundColor:l.colors.surface,transform:[{translateX:y}]}]},a.a.createElement(R.a,{style:rr.userInfoSection},a.a.createElement(ot.a,{style:{marginLeft:10},onPress:function(){e.navigation.toggleDrawer()}},i?a.a.createElement(Be.a,{size:40,style:{marginRight:10},source:{uri:i}}):s?a.a.createElement(Ct.a,{size:50,label:s}):a.a.createElement(A.a,{size:50,icon:"account"})),a.a.createElement(Tt.a,{style:rr.title},null!=t&&t.name?t.name:"Dawid"),a.a.createElement(kt.a,{style:rr.caption},null!=t&&t.online?"Online":"Offline"),a.a.createElement(R.a,{style:rr.row},a.a.createElement(R.a,{style:rr.section},a.a.createElement(tt.a,{style:[rr.paragraph,rr.caption]},(null==t?void 0:t.product_count)||"failed to fetch"),a.a.createElement(kt.a,{style:rr.caption},"Products")),a.a.createElement(R.a,{style:rr.section},a.a.createElement(tt.a,{style:[rr.paragraph,rr.caption]},(null==t?void 0:t.order_count)||"failed to fetch"),a.a.createElement(kt.a,{style:rr.caption},"Transactions")))),a.a.createElement(Qn.a,{style:rr.drawerSection},a.a.createElement($n.a,{icon:function(e){e.color;var t=e.size;return a.a.createElement(We.a,{name:"folder-home-outline",color:"MyProducts"===v?E:S,size:t})},label:"My Products",onPress:function(){g?e.navigation.navigate("MyProducts"):P("Products",{screen:"MyProducts"})}}),a.a.createElement($n.a,{activeTintColor:E,inactiveTintColor:S,icon:function(e){e.color,e.focused;var t=e.size;return a.a.createElement(We.a,{name:"cash-multiple",color:"Transactions"===v?E:S,size:t})},label:"Transactions",onPress:function(){console.log("Drawer: pushed Transactions"),g?e.navigation.navigate("Transactions"):P("Products",{screen:"Transactions"})}}),a.a.createElement($n.a,{activeTintColor:E,inactiveTintColor:S,icon:function(e){e.color;var t=e.size;return a.a.createElement(We.a,{name:"heart",color:"Favorites"===v?E:S,size:t})},label:"Favorites",onPress:function(){console.log("Drawer: pushed Favorites"),g?e.navigation.navigate("Favorites"):P("Products",{screen:"Favorites"})}}),a.a.createElement($n.a,{activeTintColor:E,inactiveTintColor:S,icon:function(e){e.color;var t=e.size;return a.a.createElement(We.a,{name:"package-variant",color:"Products"===v?E:S,size:t})},label:"All Products",onPress:function(){console.log("Drawer: pushed All Products"),g?e.navigation.navigate("Products"):P("Products")}}),a.a.createElement($n.a,{activeTintColor:E,inactiveTintColor:S,icon:function(e){e.color;var t=e.size;return a.a.createElement(We.a,{name:"folder-home-outline",color:"AddProduct"===v?E:S,size:t})},label:"Add Product",onPress:function(){console.log("Drawer: pushed Add Product"),g?e.navigation.navigate("AddProduct"):P("Products",{screen:"AddProduct"})}})),a.a.createElement(Qn.a,{title:"Preferences"},a.a.createElement(ht.a,{onPress:f},a.a.createElement(R.a,{style:rr.preference},a.a.createElement(q.a,null,"Dark Theme"),a.a.createElement(R.a,{pointerEvents:"none"},a.a.createElement(er.a,{value:m.dark})))),a.a.createElement(ht.a,{onPress:p},a.a.createElement(R.a,{style:rr.preference},a.a.createElement(q.a,null,"RTL"),a.a.createElement(R.a,{pointerEvents:"none"},a.a.createElement(er.a,{value:"right"===d}))))),a.a.createElement(Qn.a,{title:"Account"},a.a.createElement(ht.a,{onPress:function(){return r()}},a.a.createElement(R.a,{style:rr.preference},a.a.createElement(q.a,null,"Sign Out"),a.a.createElement(R.a,{pointerEvents:"none"},a.a.createElement(er.a,{value:!1===o})))))))}var rr=F.a.create({drawerContent:{flex:1},userInfoSection:{paddingLeft:20},title:{marginTop:20,fontWeight:"bold"},caption:{fontSize:14,lineHeight:14},row:{marginTop:20,flexDirection:"row",alignItems:"center"},section:{flexDirection:"row",alignItems:"center",marginRight:15},paragraph:{fontWeight:"bold",marginRight:3},drawerSection:{marginTop:15},preference:{flexDirection:"row",justifyContent:"space-between",paddingVertical:12,paddingHorizontal:16}}),ar=Object(Pt.a)(),or=function(){var e=Object(z.b)(),t=Object(St.a)().width>=768;return a.a.createElement(ar.Navigator,{screenOptions:{headerShown:t,drawerType:t?"permanent":"front",sceneContainerStyle:{},drawerLabelStyle:{fontFamily:"space-mono"},header:function(t){var n=t.navigation,r=t.route,o=t.options,c=void 0!==o.headerTitle?o.headerTitle:void 0!==o.title?o.title:r.name;return a.a.createElement(Ue.a.Header,{theme:{colors:{primary:e.colors.surface}}},r.name!==c?a.a.createElement(Ue.a.BackAction,{onPress:n.goBack,color:e.colors.primary}):"Hello",a.a.createElement(Ue.a.Content,{title:"Store"===c?a.a.createElement(We.a,{style:{marginRight:10},name:"package-variant-closed",size:40,color:e.colors.primary}):c,titleStyle:{fontSize:18,fontWeight:"bold",color:e.colors.primary}}),a.a.createElement(Ue.a.Action,{icon:function(){return a.a.createElement(We.a,{name:"magnify",size:30,color:e.colors.primary})},onPress:function(){}}))}},drawerContent:function(e){return a.a.createElement(nr,e)}},t?a.a.createElement(a.a.Fragment,null,a.a.createElement(ar.Screen,{name:"Products",component:Kt,options:{headerTitle:"Product",drawerIcon:function(){return a.a.createElement(We.a,{name:"package-variant",size:40,color:e.colors.primary})}}}),a.a.createElement(ar.Screen,{name:"ProductDetails",component:function(e){return a.a.createElement(Ot.a,null,a.a.createElement(en,e))},options:{headerTitle:"Product Details",drawerIcon:function(){return a.a.createElement(We.a,{name:"package-variant",size:40,color:e.colors.primary})}}}),a.a.createElement(ar.Screen,{name:"MakeOffer",component:on,options:{headerTitle:"Make Offer",drawerIcon:function(){return a.a.createElement(We.a,{name:"cash-multiple",size:40,color:e.colors.primary})}}}),a.a.createElement(ar.Screen,{name:"MakePurchase",component:ln,options:{headerTitle:"Make Purchase",drawerIcon:function(){return a.a.createElement(We.a,{name:"cash-100",size:40,color:e.colors.primary})}}}),a.a.createElement(ar.Screen,{name:"UpdateProduct",component:pn,options:{headerTitle:"Update Product",drawerIcon:function(){return a.a.createElement(We.a,{name:"folder-home-outline",size:40,color:e.colors.primary})}}}),a.a.createElement(ar.Screen,{name:"Transactions",component:kn,options:{headerTitle:"Transactions",drawerIcon:function(){return a.a.createElement(We.a,{name:"cash-multiple",size:40,color:e.colors.primary})}}}),a.a.createElement(ar.Screen,{name:"Favorites",component:Ln,options:{headerTitle:"Favorites",drawerIcon:function(){return a.a.createElement(We.a,{name:"heart",size:40,color:e.colors.primary})}}}),a.a.createElement(ar.Screen,{name:"MyProducts",component:An,options:{headerTitle:"My Products",drawerIcon:function(){return a.a.createElement(We.a,{name:"folder-home-outline",size:40,color:e.colors.primary})}}}),a.a.createElement(ar.Screen,{name:"AddProduct",component:_n,options:{headerTitle:"Add Product",drawerIcon:function(){return a.a.createElement(We.a,{name:"folder-home-outline",size:40,color:e.colors.primary})}}})):a.a.createElement(ar.Screen,{name:"Home",component:Yn}))},cr=function(){var e=Me().state,t=Me(),n=t.isLoading,r=t.isSignedIn,o=t.accessToken,c=t.noAccount,i=t.isSignedUp;return console.log("Core: isSignedIn",r),console.log("Core: isLoading",n),console.log("Core: accessToken",o),console.log("Core: noAccount",c),console.log("Core: isSignedUp",i),a.a.createElement(a.a.Fragment,null,a.a.createElement(a.a.Fragment,null,a.a.createElement(a.a.Fragment,null,e.isSignedIn?a.a.createElement(or,null):a.a.createElement(Et,null))))},ir=n(372),sr=n(191);function lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lr(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dr=r.createContext(void 0);function mr(e){var t=e.children,n=Ne(),a=n.dispatch,o=n.setVendorId,c=r.useState(0),s=i()(c,2),u=s[0],d=s[1],m=r.useState(""),p=i()(m,2),f=p[0],g=p[1],h=r.useState(""),y=i()(h,2),b=y[0],v=y[1],E=r.useState(!1),S=i()(E,2),O=S[0],P=S[1],w=r.useState(""),x=i()(w,2),T=x[0],k=x[1],C=r.useState(""),I=i()(C,2),j=I[0],D=I[1],R=r.useState(!1),_=i()(R,2),N=_[0],F=_[1],V=r.useState(!0),z=i()(V,2),A=z[0],q=z[1],M=r.useState(!1),G=i()(M,2),L=(G[0],G[1]),U=r.useState(!1),B=i()(U,2),W=(B[0],B[1]),H=r.useState(!1),K=i()(H,2),Y=(K[0],K[1]),X=r.useState(""),Z=i()(X,2),$=(Z[0],Z[1]),Q=function(e){$(e),L(!0),setTimeout((function(){L(!1),$("")}),1750)},ee=function(e){$(e),W(!0),setTimeout((function(){W(!1),$("")}),1750)};return r.createElement(dr.Provider,{value:{userId:u,setUserId:d,username:f,setUsername:g,email:b,setEmail:v,loading:O,setLoading:P,handleSignIn:function(e){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(a({type:Te.fetchVendor}),A){e.next=14;break}return e.prev=2,e.next=5,l.a.awrap(re({body:{username:f,email:b,password:T}}).then((function(e){e.ok?e.json().then((function(e){e.access&&(v(""),k(""),g(e.user.name),d(e.user.id),o(e.user.id.toString()),a({type:Te.fetchVendorSuccess,vendor:e.user}),setTimeout((function(){Q("Account Created")}),750),setTimeout((function(){P(!1)}),1500))})):e.json().then((function(e){e.message&&(P(!1),a({type:Te.fetchVendorFailure}),ee(e.message))}))})));case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(2),P(!1),a({type:Te.fetchVendorFailure}),console.log((null==e.t0?void 0:e.t0.message)||"Something went wrong.");case 12:e.next=24;break;case 14:return e.prev=14,e.next=17,l.a.awrap(ae({body:{username:f,password:T}}).then((function(e){e.ok?e.json().then((function(e){e.access?(g(""),k(""),g(e.user.name),d(e.user.id),a({type:Te.fetchVendorSuccess,vendor:e.user}),setTimeout((function(){Q("Welcome Back, "+e.user.name)}),750),setTimeout((function(){P(!1)}),1500)):(P(!1),a({type:Te.fetchVendorFailure}),console.log("Access Failed"))})):e.json().then((function(e){e.message&&(P(!1),a({type:Te.fetchVendorFailure,error:e.message}),console.log("Request failed"))}))})));case 17:e.next=24;break;case 19:e.prev=19,e.t1=e.catch(14),P(!1),a({type:Te.fetchVendorFailure,error:e.t1}),console.log(e.t1.message);case 24:case"end":return e.stop()}}),null,null,[[2,7],[14,19]],Promise)},handleSignOut:function(e){var t;return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.next=3,l.a.awrap(J());case 3:return t=e.sent,e.prev=4,e.next=7,l.a.awrap(oe({accessToken:t}).then((function(e){e.ok?(g(""),d(""),q(!0),setTimeout((function(){Q("Signed Out")}),250),setTimeout((function(){P(!1)}),750)):(P(!1),console.log("Sign Out Failed"))})));case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(4),P(!1),console.log(e.t0.message);case 13:case"end":return e.stop()}}),null,null,[[4,9]],Promise)},handleDelete:function(e){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.prev=1,e.next=4,l.a.awrap(se({url:"account/"+u,accessToken:""}).then((function(e){e.ok?(g(""),d(""),setTimeout((function(){Q("Account Deleted")}),750),setTimeout((function(){P(!1)}),1500)):(P(!1),ee("Request Failed"))})));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),P(!1),t=e.t0.message,$(t),Y(!0),setTimeout((function(){Y(!1),$("")}),1750);case 10:case"end":return e.stop()}var t}),null,null,[[1,6]],Promise)},password:T,setPassword:k,heading:j,setHeading:D,alert:N,setAlert:F,returning:A,setReturning:q}},t)}var pr=n(43),fr=function(e){var t=e.isVisible,r=Object(z.b)(),o=a.a.useState("center"),c=i()(o,2),s=c[0],l=c[1],u=a.a.useState(!1),d=i()(u,2),m=d[0],p=d[1],f=a.a.useState(new M.a.Value(0)),g=i()(f,2),h=g[0],y=(g[1],h.interpolate({inputRange:[0,1],outputRange:["0deg","360deg"]})),b=a.a.useRef(new M.a.Value(1)).current;return setTimeout((function(){l("flex-start"),p(!0)}),2e3),a.a.useEffect((function(){M.a.loop(M.a.timing(h,{toValue:1,duration:3e3,easing:pr.a.linear,useNativeDriver:!0})).start()})),a.a.useEffect((function(){t||M.a.timing(b,{toValue:0,duration:6e3,useNativeDriver:!0}).start()}),[b,t]),a.a.createElement(M.a.View,{style:[gr.container,{justifyContent:"center",opacity:b,backgroundColor:r.colors.surface}]},a.a.createElement(M.a.Image,{source:{uri:n(344)},style:{width:100,height:100,transform:[{rotate:y}]}}),m?a.a.createElement(R.a,{style:{margin:10,justifyContent:s}},a.a.createElement(k.a,{style:{color:"#114998",fontSize:30,fontWeight:"bold",fontFamily:"space-mono"}},"ThriftHub")):null)},gr=F.a.create({container:{flex:1,alignItems:"center",flexDirection:"row",marginHorizontal:40}}),hr={StartScreen:{title:"Native Stack",component:{}},LoginScreen:{title:"Simple Stack",component:{}},RegisterScreen:{title:"Modal Stack",component:{}},Products:{title:"Regular + Modal Stack",component:{}},ProductDetails:{title:"Float + Screen Header Stack",component:{}},MakeOffer:{title:"Transparent Stack",component:{}},MakePurchase:{title:"Header Customization in Stack",component:{}},UpdateProduct:{title:"Header Customization in Native Stack",component:{}},Transactions:{title:"Bottom Tabs",component:{}},Favorites:{title:"Material Top Tabs",component:{}},MyProducts:{title:"Material Bottom Tabs",component:{}},AddProduct:{title:"Dynamic Tabs",component:{}}},yr=function(){var e=x().theme,t=function(){var e=r.useState(!1),t=i()(e,2),a=t[0],o=t[1];return r.useEffect((function(){l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,sr.b(),e.next=4,l.a.awrap(ir.b(ur(ur({},We.a.font),{},{"space-mono":n(343)})));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.warn(e.t0);case 9:return e.prev=9,o(!0),sr.a(),e.finish(9);case 13:case"end":return e.stop()}}),null,null,[[0,6,9,13]],Promise)}),[]),a}(),o=a.a.useState(!0),c=i()(o,2),s=c[0],u=c[1],m=a.a.useState(),p=i()(m,2),f=p[0],g=p[1],h=a.a.useState(!0),y=i()(h,2),b=y[0],v=y[1];return a.a.useEffect((function(){s||function(){var e,t,n;l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,l.a.awrap(j.b());case 3:if(e=r.sent,"web"===T.a.OS||null!=e){r.next=10;break}return r.next=7,l.a.awrap(d.a.getItem("NAVIGATION_STATE"));case 7:t=r.sent,void 0!==(n=t?JSON.parse(t):void 0)&&g(n);case 10:return r.prev=10,u(!0),r.finish(10);case 13:case"end":return r.stop()}}),null,null,[[0,,10,13]],Promise)}()}),[s]),a.a.useEffect((function(){s&&t||setTimeout((function(){v(!1)}),7e3)}),[]),b?a.a.createElement(fr,{isVisible:!s||!t}):(console.log("Core: Linking.getInitialUrl",j.b()),a.a.createElement(C.a,{theme:e},a.a.createElement(D.a,{translucent:!0,animated:!0,style:e.dark?"light":"dark",backgroundColor:"rgba(0, 0, 0, 0.24)"}),a.a.createElement(I.a,{initialState:f,onStateChange:function(e){console.log("NavigationContainer: onStateChange",JSON.stringify(e)),d.a.setItem("NAVIGATION_STATE",JSON.stringify(e))},theme:e,linking:{prefixes:[j.a("/")],enabled:!0,config:{initialRouteName:"Home",screens:Object.keys(hr).reduce((function(e,t){var n=t.replace(/([A-Z]+)/g,"-$1").replace(/^-/,"").toLowerCase();return console.log("CONFIG path",n),console.log("CONFIG namge",t),e[t]={path:n,screens:{ProductScreen:"products",ProductDetailScreen:{path:"products/:slug?",parse:{slug:function(e){return e.charAt(0).toUpperCase()+e.slice(1).replace(/-/g," ")}},stringify:{slug:function(e){return e.toLowerCase().replace(/\s/g,"-")}}},MakeOfferScreen:{path:n+"/offer/:product",parse:{product:function(e){return e.slug.charAt(0).toUpperCase()+e.slug.slice(1).replace(/-/g," ")}},stringify:{product:function(e){return e.slug.toLowerCase().replace(/\s/g,"-")}}},MakePurchaseScreen:{path:"products/purchase/:slug",parse:{slug:function(e){return e.charAt(0).toUpperCase()+e.slice(1).replace(/-/g," ")}},stringify:{slug:function(e){return e.toLowerCase().replace(/\s/g,"-")}}},UpdateProductScreen:{path:"products/update/:slug?",parse:{slug:function(e){return e.charAt(0).toUpperCase()+e.slice(1).replace(/-/g," ")}},stringify:{slug:function(e){return e.toLowerCase().replace(/\s/g,"-")}}},TransactionOrdersScreen:{screens:{orderRequests:{path:"transactions/sales"},ordersMade:{path:"transactions/purchases"}}},FavoriteProductsScreen:"favorites",MyProductsScreen:"myproducts",AddProductScreen:"add"}},e}),{Home:{screens:{StartScreen:"",LoginScreen:"signin",RegisterScreen:"signup"}},NotFound:"*"})}},fallback:a.a.createElement(k.a,null,"Loading\u2026"),documentTitle:{formatter:function(e,t){var n;return(null!=(n=null==e?void 0:e.title)?n:null==t?void 0:t.name)+" - ThriftHub"}}},a.a.createElement(xe,null,a.a.createElement(Re,null,a.a.createElement(qe,null,a.a.createElement(mr,null,a.a.createElement(cr,null))))))))};function br(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(w,null,a.a.createElement(o.b,null,a.a.createElement(yr,null))))}},281:function(e,t,n){e.exports=n(345)},320:function(e,t){},330:function(e,t,n){e.exports=n.p+"static/media/background_dot.06ffdbc6.png"},343:function(e,t,n){e.exports=n.p+"./fonts/SpaceMono-Regular.ttf"},344:function(e,t,n){e.exports=n.p+"static/media/logo@2x.8d0cb9f8.png"}},[[281,1,2]]]);
//# sourceMappingURL=app.cfabc599.chunk.js.map